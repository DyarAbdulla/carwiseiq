(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1564,5922],{25993:function(e,t,a){Promise.resolve().then(a.bind(a,50340))},50340:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var i=a(57437),l=a(2265),n=a(24033),r=a(50116),s=a(85754),o=a(39684),c=a(67369),d=a(76688),u=a(94900),m=a(55340),p=a(82549),h=a(4035),g=a(38339);let v=["image/jpeg","image/jpg","image/png","image/webp"],f=["video/mp4","video/quicktime","video/x-msvideo"];function x(e){let t=f.includes(e.type)||/\.(mp4|mov|avi)$/i.test(e.name),a=v.includes(e.type)||/\.(jpe?g|png|webp)$/i.test(e.name);return t||a?e.size>(t?52428800:5242880)?{key:"mediaMaxSize",params:{name:e.name,max:t?"50MB":"5MB"}}:null:{key:"mediaInvalidType",params:{name:e.name}}}function b(e){var t;let{item:a,onRemove:l,onSetCover:n,coverLabel:r,setCoverLabel:s,removeLabel:o,dragLabel:h}=e,{attributes:g,listeners:v,setNodeRef:f,transform:x,transition:b,isDragging:w}=(0,c.nB)({id:a.id}),y={transform:d.ux.Transform.toString(x),transition:b};return(0,i.jsxs)("div",{ref:f,style:y,className:"relative aspect-square rounded-lg overflow-hidden bg-gray-700/80 border border-gray-600 ".concat(w?"z-10 opacity-90 ring-2 ring-indigo-500":""),children:[a.isVideo?(0,i.jsxs)("div",{className:"w-full h-full relative",children:[(0,i.jsx)("video",{src:a.previewUrl,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:(0,i.jsx)(u.Z,{className:"h-10 w-10 text-white drop-shadow"})})]}):(0,i.jsx)("img",{src:a.previewUrl,alt:"",className:"w-full h-full object-cover"}),a.isCover&&(0,i.jsxs)("span",{className:"absolute top-2 left-2 px-2 py-0.5 rounded text-xs font-medium bg-indigo-600 text-white flex items-center gap-1",children:[(0,i.jsx)(m.Z,{className:"h-3 w-3 fill-current"}),r]}),(0,i.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent",children:[(0,i.jsx)("p",{className:"text-white text-xs truncate",title:a.file.name,children:a.file.name}),(0,i.jsx)("p",{className:"text-gray-300 text-xs",children:(t=a.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")})]}),(0,i.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[!a.isCover&&(0,i.jsx)("button",{type:"button",onClick:()=>n(a.id),className:"p-1.5 rounded-full bg-black/60 hover:bg-indigo-600 text-white transition-colors",title:s,"aria-label":s,children:(0,i.jsx)(m.Z,{className:"h-4 w-4"})}),(0,i.jsx)("button",{type:"button",onClick:()=>l(a.id),className:"p-1.5 rounded-full bg-black/60 hover:bg-red-600 text-white transition-colors","aria-label":o,children:(0,i.jsx)(p.Z,{className:"h-4 w-4"})})]}),(0,i.jsx)("div",{...g,...v,className:"absolute bottom-2 left-2 p-1.5 rounded bg-black/60 text-white cursor-grab active:cursor-grabbing","aria-label":h,children:(0,i.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M8 6h2v2H8V6zm0 5h2v2H8v-2zm0 5h2v2H8v-2zm5-10h2v2h-2V6zm0 5h2v2h-2v-2zm0 5h2v2h-2v-2z"})})})]})}function w(e){var t;let{media:a,onAdd:n,onRemove:s,onSetCover:d,onReorder:u,errors:m=[]}=e,p=(0,r.useTranslations)("sell"),v=(0,l.useRef)(null),[f,w]=(0,l.useState)(!1),[y,j]=(0,l.useState)(null),N=(0,o.Dy)((0,o.VT)(o.we,{activationConstraint:{distance:8}}),(0,o.VT)(o.Lg,{coordinateGetter:c.is})),k=(0,l.useCallback)(e=>{let{active:t,over:i}=e;if(!i||t.id===i.id)return;let l=a.findIndex(e=>e.id===t.id),n=a.findIndex(e=>e.id===i.id);l>=0&&n>=0&&u(l,n)},[a,u]),C=(0,l.useCallback)(e=>{var t;let i=e.target.files;if(!(null==i?void 0:i.length))return;let l=[],r=[];for(let e of Array.from(i)){if(a.length+l.length>=10)break;let t=x(e);t?r.push(t):l.push(e)}r.length?j(null!==(t=r[0])&&void 0!==t?t:null):j(null),l.length&&n(l),e.target.value=""},[a.length,n]),S=(0,l.useCallback)(e=>{var t;e.preventDefault(),w(!1);let i=e.dataTransfer.files;if(!(null==i?void 0:i.length))return;let l=[],r=[];for(let e of Array.from(i)){if(a.length+l.length>=10)break;let t=x(e);t?r.push(t):l.push(e)}r.length?j(null!==(t=r[0])&&void 0!==t?t:null):j(null),l.length&&n(l)},[a.length,n]),I=(0,l.useCallback)(e=>{e.preventDefault(),w(!0)},[]),D=(0,l.useCallback)(e=>{e.preventDefault(),w(!1)},[]),U=a.length<10,M=a.length,z=M>=4&&M<=10;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("input",{ref:v,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,video/mp4,video/quicktime,video/x-msvideo",multiple:!0,className:"hidden",onChange:C}),(0,i.jsxs)("div",{onDrop:S,onDragOver:I,onDragLeave:D,onClick:()=>{var e;return U&&(null===(e=v.current)||void 0===e?void 0:e.click())},className:"\n          min-h-[180px] rounded-2xl border-2 border-dashed flex flex-col items-center justify-center gap-2\n          transition-all cursor-pointer backdrop-blur-sm\n          ".concat(f?"border-indigo-500/50 bg-indigo-500/10 shadow-lg shadow-indigo-500/20":"border-white/20 hover:border-white/30 bg-white/5 hover:bg-white/10","\n          ").concat(U?"":"pointer-events-none opacity-60","\n        "),children:[(0,i.jsxs)("div",{className:"flex gap-4 text-gray-400",children:[(0,i.jsx)(h.Z,{className:"h-10 w-10"}),(0,i.jsx)(g.Z,{className:"h-10 w-10"})]}),(0,i.jsx)("p",{className:"text-white font-medium",children:U?p("mediaDropOrClick"):p("mediaMaxFiles",{max:String(10)})}),(0,i.jsx)("p",{className:"text-sm text-gray-400",children:p("mediaFormats")})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,i.jsxs)("span",{className:"text-gray-400",children:["\uD83D\uDCF8 ",p("mediaMinImages",{min:String(4)})]}),(0,i.jsxs)("span",{className:"text-gray-400",children:["\uD83C\uDFA5 ",p("mediaVideosOptional")]}),(0,i.jsxs)("span",{className:"text-gray-400",children:["\uD83D\uDCCF ",p("mediaMaxFiles",{max:String(10)})]}),(0,i.jsxs)("span",{className:"text-gray-400",children:["✨ ",p("mediaIncludeTypes")]})]}),y&&(0,i.jsx)("p",{className:"text-red-400 text-sm",children:p(y.key,null!==(t=y.params)&&void 0!==t?t:{})}),m.map((e,t)=>(0,i.jsx)("p",{className:"text-red-400 text-sm",children:e},t)),(0,i.jsxs)("p",{className:"text-sm font-medium ".concat(z?"text-emerald-400":"text-amber-400"),children:[M,"/",10," files \xb7 ",M>=4?p("mediaCountOk"):p("mediaAddMore",{min:String(4)})]}),a.length>0&&(0,i.jsx)(o.LB,{sensors:N,collisionDetection:o.pE,onDragEnd:k,children:(0,i.jsx)(c.Fo,{items:a.map(e=>e.id),children:(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:a.map(e=>(0,i.jsx)(b,{item:e,onRemove:s,onSetCover:d,coverLabel:p("cover"),setCoverLabel:p("mediaSetCover"),removeLabel:p("mediaRemove"),dragLabel:p("mediaDragReorder")},e.id))})})}),(0,i.jsx)("span",{className:"sr-only","data-min":4,"data-max":10,"data-count":M,"data-valid":String(z)})]})}var y=a(65864),j=a(6678),N=a(45922),k=a(25703),C=a(86264);let S="car-images";function I(){let e=(0,n.useRouter)(),t=(0,r.useLocale)(),a=(0,r.useTranslations)("sell"),{toast:o}=(0,k.useToast)(),{user:c}=(0,j.useAuthContext)(),{media:d,addMedia:u,removeMedia:m,setCover:p,reorderMedia:h,setUploadedMediaUrls:g,uploadedMediaUrls:v}=(0,y.e)(),f=d.length>=4&&d.length<=10,[x,b]=(0,l.useState)(!1),I=(0,l.useRef)(!1),D=(0,l.useCallback)(async()=>{if(!f||!(null==c?void 0:c.id)){(null==c?void 0:c.id)||o({title:a("publishUploadError"),description:"Please log in to upload images.",variant:"destructive"});return}if(I.current)return;if(v.length===d.length&&v.length>=4){e.push("/".concat(t,"/sell/step3"));return}let{data:{session:i},error:l}=await N.supabase.auth.getSession();if(!i||l){console.error("[Step2] ❌ No Supabase session:",(null==l?void 0:l.message)||"Session not found"),o({title:a("publishUploadError"),description:"Session expired. Please log in again.",variant:"destructive"}),e.push("/".concat(t,"/login?returnUrl=/").concat(t,"/sell/step2"));return}I.current=!0,b(!0);try{let i=Date.now(),l="".concat(c.id,"/").concat(i),n=[...d].sort((e,t)=>e.isCover?-1:t.isCover?1:e.order-t.order),r=n.map((e,t)=>{var a,i;let n=(null===(i=e.file.name.match(/\.(jpe?g|png|webp|mp4|mov|avi)$/i))||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.toLowerCase())||".jpg",r="f".concat(t).concat(n),s="".concat(l,"/").concat(r),o=function(e){let t=(e.type||"").trim();return/^(image\/|video\/)/.test(t)?t:"application/octet-stream"}(e.file);return N.supabase.storage.from(S).upload(s,e.file,{contentType:o,upsert:!1}).then(e=>{let{data:t,error:a}=e;return a?(console.error("[Step2] ❌ Upload error for ".concat(r,":"),a),{error:a}):{publicUrl:N.supabase.storage.from(S).getPublicUrl(s).data.publicUrl}})}),s=await Promise.all(r),u=s.find(e=>"error"in e&&e.error);if(u&&"error"in u&&u.error){console.error("[Step2] ❌ Upload failed:",u.error),o({title:a("publishUploadError"),description:u.error.message||"Failed to upload images. Please check your connection and try again.",variant:"destructive"}),b(!1),I.current=!1;return}let m=s.map(e=>"publicUrl"in e?e.publicUrl:"").filter(e=>!!e);m.length!==n.length&&(console.warn("[Step2] ⚠️ Some uploads may have failed. Expected:",n.length,"Got:",m.length),o({title:"Warning",description:"Only ".concat(m.length," of ").concat(n.length," files uploaded successfully."),variant:"default"})),g(m),b(!1),I.current=!1,e.push("/".concat(t,"/sell/step3"))}catch(t){console.error("[Step2] ❌ Upload exception:",t);let e=t instanceof Error?t.message:String(t);o({title:a("publishUploadError"),description:e||"Failed to upload images. Please check your connection and try again.",variant:"destructive"}),b(!1),I.current=!1}finally{b(!1),I.current=!1}},[f,null==c?void 0:c.id,d,v.length,g,e,t,o,a]);return(0,i.jsxs)("div",{className:"relative px-4 py-12 md:py-16",children:[(0,i.jsx)("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:(0,i.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[600px] bg-gradient-radial from-indigo-500/20 via-purple-500/10 to-transparent blur-3xl opacity-60"})}),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto relative",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-3",children:a("step2Title")}),(0,i.jsx)("p",{className:"text-gray-400 text-lg",children:a("step2Description")})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(w,{media:d,onAdd:u,onRemove:m,onSetCover:p,onReorder:h}),(0,i.jsxs)("div",{className:"flex justify-between pt-4 gap-4",children:[(0,i.jsx)(s.z,{variant:"outline",onClick:()=>e.push("/".concat(t,"/sell/step1")),disabled:x,className:"border-white/10 text-gray-300 hover:bg-white/5 h-12 px-6 text-base",children:a("back")}),(0,i.jsxs)(s.z,{onClick:D,disabled:!f||x,className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 h-12 px-8 text-base font-medium shadow-lg shadow-indigo-500/20",children:[x?(0,i.jsx)(C.Z,{className:"h-5 w-5 animate-spin mr-2"}):null,x?a("uploading"):a("continue")]})]})]})]})]})}},85754:function(e,t,a){"use strict";a.d(t,{z:function(){return s}});var i=a(57437),l=a(2265),n=a(67256),r=a(1657);let s=l.forwardRef((e,t)=>{let{className:a,variant:l="default",size:s="default",asChild:o=!1,...c}=e,d=o?n.g7:"button";return(0,i.jsx)(d,{className:(0,r.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-[#5B7FFF] text-white hover:bg-[#4a6fff]",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-slate-300 dark:border-[#2a2d3a] bg-transparent hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",secondary:"bg-slate-100 dark:bg-[#2a2d3a] text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-[#3a3d4a]",ghost:"hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",link:"text-[#5B7FFF] underline-offset-4 hover:underline"}[l],{default:"h-10 sm:h-10 px-4 py-2 min-h-[48px] sm:min-h-[40px]",sm:"h-9 sm:h-9 rounded-md px-3 min-h-[48px] sm:min-h-[36px]",lg:"h-11 sm:h-11 rounded-md px-8 min-h-[48px] sm:min-h-[44px]",icon:"h-10 w-10 sm:h-10 sm:w-10 min-h-[48px] min-w-[48px] sm:min-h-[40px] sm:min-w-[40px]"}[s],a),ref:t,...c})});s.displayName="Button"},6678:function(e,t,a){"use strict";a.r(t),a.d(t,{AuthProvider:function(){return s},useAuthContext:function(){return o}});var i=a(57437),l=a(2265),n=a(45922);let r=(0,l.createContext)(null);function s(e){let{children:t}=e,[a,s]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(null),[m,p]=(0,l.useState)(!0),h=(0,l.useCallback)(async e=>{var t;let{data:a,error:i}=await n.supabase.from("users").select("role").eq("id",e).maybeSingle();return i||!a?null:null!==(t=a.role)&&void 0!==t?t:null},[]),g=(0,l.useCallback)(async()=>{try{let{data:{session:e},error:t}=await n.supabase.auth.getSession();if(t||!e){c(null),s(null),u(null);return}c(e),s(e.user),p(!1);try{let t=await h(e.user.id);u(t)}catch(e){u(null)}}catch(e){c(null),s(null),u(null)}finally{p(!1)}},[h]);(0,l.useEffect)(()=>{g();let{data:{subscription:e}}=n.supabase.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_OUT"===e||!t){c(null),s(null),u(null),p(!1);return}c(t),s(t.user);try{let e=await h(t.user.id);u(e)}finally{p(!1)}}),t=setTimeout(()=>{p(e=>!e&&e)},8e3);return()=>{clearTimeout(t),e.unsubscribe()}},[g,h]);let v=(0,l.useCallback)(async()=>{p(!0),await n.supabase.auth.signOut(),c(null),s(null),u(null),p(!1)},[]),f=(0,l.useMemo)(()=>({user:a,session:o,role:d,isAdmin:"admin"===d,loading:m,signOut:v}),[a,o,d,m,v]);return(0,i.jsx)(r.Provider,{value:f,children:t})}function o(){let e=(0,l.useContext)(r);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},65864:function(e,t,a){"use strict";a.d(t,{E:function(){return d},e:function(){return u}});var i=a(57437),l=a(2265);let n="sell_wizard_draft",r={make:"",model:"",year:"",price:"",mileage:"",transmission:"",fuel_type:"",condition:"",body_type:"",color:"",previous_owners:"",accident_history:"",features:[]},s={phone:"",whatsapp:"",whatsappSameAsPhone:!0,preferredContact:"",bestTimeToCall:[],description:""},o={location:null,media:[],uploadedMediaUrls:[],carDetails:null,contact:null,editListingId:null,publishedListingId:null},c=(0,l.createContext)(null);function d(e){let{children:t}=e,[a,d]=(0,l.useState)(()=>({...o,...function(){try{var e,t,a,i,l;let r=localStorage.getItem(n);if(!r)return{};let s=JSON.parse(r);return{location:null!==(e=s.location)&&void 0!==e?e:null,media:[],uploadedMediaUrls:[],carDetails:null!==(t=s.carDetails)&&void 0!==t?t:null,contact:null!==(a=s.contact)&&void 0!==a?a:null,editListingId:null!==(i=s.editListingId)&&void 0!==i?i:null,publishedListingId:null!==(l=s.publishedListingId)&&void 0!==l?l:null}}catch(e){return{}}}()}));(0,l.useEffect)(()=>{!function(e){try{let t={location:e.location,media:[],uploadedMediaUrls:[],carDetails:e.carDetails,contact:e.contact,editListingId:e.editListingId,publishedListingId:e.publishedListingId};localStorage.setItem(n,JSON.stringify(t))}catch(e){console.warn("SellWizard persist failed:",e)}}(a)},[a]);let u=(0,l.useCallback)(e=>{d(t=>({...t,location:e}))},[]),m=(0,l.useCallback)(e=>{d(t=>({...t,media:e,uploadedMediaUrls:[]}))},[]),p=(0,l.useCallback)(e=>{d(t=>({...t,uploadedMediaUrls:e}))},[]),h=(0,l.useCallback)(e=>{let t=["video/mp4","video/quicktime","video/x-msvideo"],a=["image/jpeg","image/jpg","image/png","image/webp"];d(i=>{let l=[...i.media],n=l.length;for(let i of e){var r,s,o;if(l.length>=10)break;let e=t.includes(i.type)||/\.(mp4|mov|avi)$/i.test(i.name),c=a.includes(i.type)||/\.(jpe?g|png|webp)$/i.test(i.name);if(!e&&!c)continue;let d=URL.createObjectURL(i);l.push({id:null!==(o=null===(r=(s=crypto).randomUUID)||void 0===r?void 0:r.call(s))&&void 0!==o?o:"m-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9)),file:i,previewUrl:d,isVideo:e,isCover:0===l.length,order:n++})}let c=l.some(e=>e.isCover);return l.length&&!c&&(l[0].isCover=!0),{...i,media:l,uploadedMediaUrls:[]}})},[]),g=(0,l.useCallback)(e=>{d(t=>{var a;let i=t.media.filter(t=>t.id!==e);return(null===(a=t.media.find(t=>t.id===e))||void 0===a?void 0:a.isCover)&&i.length&&(i[0].isCover=!0),{...t,media:i,uploadedMediaUrls:[]}})},[]),v=(0,l.useCallback)(e=>{d(t=>({...t,media:t.media.map(t=>({...t,isCover:t.id===e})),uploadedMediaUrls:[]}))},[]),f=(0,l.useCallback)((e,t)=>{d(a=>{let i=[...a.media],[l]=i.splice(e,1);return l?(i.splice(t,0,l),{...a,media:i.map((e,t)=>({...e,order:t})),uploadedMediaUrls:[]}):a})},[]),x=(0,l.useCallback)(e=>{d(t=>({...t,carDetails:null===e?null:{...r,...t.carDetails,...e}}))},[]),b=(0,l.useCallback)(e=>{d(t=>({...t,contact:null===e?null:{...s,...t.contact,...e}}))},[]),w=(0,l.useCallback)(e=>{d(t=>({...t,editListingId:e}))},[]),y=(0,l.useCallback)(e=>{d(t=>({...t,publishedListingId:e}))},[]),j=(0,l.useCallback)(()=>{d({...o}),localStorage.removeItem(n)},[]),N=(0,l.useCallback)(e=>{d(t=>{var a,i;return{...t,location:e.location?{city:null!==(a=e.location.city)&&void 0!==a?a:"",neighborhood:null!==(i=e.location.neighborhood)&&void 0!==i?i:""}:t.location,carDetails:e.carDetails?{...r,...e.carDetails}:t.carDetails,contact:e.contact?{...s,...e.contact}:t.contact}})},[]),k=(0,l.useMemo)(()=>({...a,setLocation:u,setMedia:m,setUploadedMediaUrls:p,addMedia:h,removeMedia:g,setCover:v,reorderMedia:f,setCarDetails:x,setContact:b,setEditListingId:w,setPublishedListingId:y,clearDraft:j,loadForEdit:N}),[a,u,m,p,h,g,v,f,x,b,w,y,j,N]);return(0,i.jsx)(c.Provider,{value:k,children:t})}function u(){let e=(0,l.useContext)(c);if(!e)throw Error("useSellWizard must be used within SellWizardProvider");return e}},25703:function(e,t,a){"use strict";a.r(t),a.d(t,{ToastProvider:function(){return s},useToast:function(){return o}});var i=a(57437),l=a(2265),n=a(1657);let r=l.createContext({toast:()=>{}});function s(e){let{children:t}=e,[a,s]=l.useState([]),o=l.useCallback(e=>{var t;let a=Math.random().toString(36).substring(7);s(t=>[...t,{...e,id:a}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==a))},null!==(t=e.duration)&&void 0!==t?t:5e3)},[]);return(0,i.jsxs)(r.Provider,{value:{toast:o},children:[t,(0,i.jsx)("div",{className:"fixed bottom-0 right-0 z-[1200] flex w-full flex-col-reverse gap-2 p-4 sm:flex-col md:max-w-[420px]",children:a.map(e=>(0,i.jsxs)("div",{className:(0,n.cn)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md p-6 pr-8 shadow-lg transition-all","destructive"===e.variant?"border border-red-500/50 bg-red-950/30":"border border-[#2a2d3a] bg-[#1a1d29]"),children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[e.title&&(0,i.jsx)("div",{className:(0,n.cn)("text-sm font-semibold","destructive"===e.variant?"text-red-200":"text-white"),children:e.title}),e.description&&(0,i.jsx)("div",{className:(0,n.cn)("text-sm","destructive"===e.variant?"text-red-300/90":"text-[#94a3b8]"),children:e.description})]}),(0,i.jsx)("button",{onClick:()=>s(t=>t.filter(t=>t.id!==e.id)),className:"absolute right-2 top-2 rounded-md p-1 text-[#94a3b8] opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none group-hover:opacity-100",children:"\xd7"})]},e.id))})]})}function o(){return l.useContext(r)||{toast:e=>{"destructive"===e.variant&&console.error("Error:",e.description)}}}},45922:function(e,t,a){"use strict";a.d(t,{supabase:function(){return i}});let i=(0,a(33226).eI)("https://fehkzrrahgyesxzrwlme.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZlaGt6cnJhaGd5ZXN4enJ3bG1lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxNzcwNjEsImV4cCI6MjA4NDc1MzA2MX0.AI8QaX8nOP8UwcfmgbGN2EN4jmK94i98Kpd3ZtPDZRQ",{auth:{lock:(e,t,a)=>a()}})},1657:function(e,t,a){"use strict";a.d(t,{cb:function(){return d},cn:function(){return n},gQ:function(){return c},uf:function(){return s},wo:function(){return u},xG:function(){return r}});var i=a(57042),l=a(74769);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,i.W)(t))}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function s(e){return new Intl.NumberFormat("en-US").format(e)}function o(e){return e<=0||!isFinite(e)?0:Math.round(235.214583/e*10)/10}function c(e,t){let a=o(e),i=o(t);return"".concat(a," / ").concat(i," L/100km")}function d(e){return null!=e&&"string"==typeof e&&/\.(mp4|mov|avi)(\?|$)/i.test(e)}function u(e,t){var a;if(null==e||"string"!=typeof e||!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;let i=(null!==(a=null!=t?t:"http://localhost:8000")&&void 0!==a?a:"").replace(/\/$/,"");return i?i+(e.startsWith("/")?e:"/"+e):e}}},function(e){e.O(0,[7895,116,263,3226,53,2971,4938,1744],function(){return e(e.s=25993)}),_N_E=e.O()}]);