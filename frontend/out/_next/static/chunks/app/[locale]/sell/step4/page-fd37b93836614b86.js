(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2200],{88180:function(e,t,i){Promise.resolve().then(i.bind(i,37997))},37997:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var s=i(57437),a=i(2265),r=i(24033),l=i(50116),n=i(85754),o=i(45179),d=i(49842),c=i(23444),u=i(54900),h=i(35490),p=i(1657),m=i(76369);let f=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,s.jsx)(h.fC,{className:(0,p.cn)("grid gap-2",i),...a,ref:t})});f.displayName=h.fC.displayName;let x=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,s.jsx)(h.ck,{ref:t,className:(0,p.cn)("aspect-square h-4 w-4 rounded-full border border-[#2a2d3a] text-[#5B7FFF] ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5B7FFF] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...a,children:(0,s.jsx)(h.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});x.displayName=h.ck.displayName;var b=i(12741),g=i(76637),v=i(65864);let w=[{id:"morning",key:"bestTimeMorning"},{id:"afternoon",key:"bestTimeAfternoon"},{id:"evening",key:"bestTimeEvening"},{id:"anytime",key:"bestTimeAnytime"}];function y(){var e,t,i,h,p,m;let y=(0,r.useRouter)(),j=(0,l.useLocale)(),k=(0,l.useTranslations)("sell"),{contact:N,setContact:C}=(0,v.e)(),[S,F]=(0,a.useState)(null!==(e=null==N?void 0:N.phone)&&void 0!==e?e:""),[T,I]=(0,a.useState)(null!==(t=null==N?void 0:N.whatsapp)&&void 0!==t?t:""),[L,D]=(0,a.useState)(null===(i=null==N?void 0:N.whatsappSameAsPhone)||void 0===i||i),[_,U]=(0,a.useState)(null!==(h=null==N?void 0:N.preferredContact)&&void 0!==h?h:""),[P,M]=(0,a.useState)(null!==(p=null==N?void 0:N.bestTimeToCall)&&void 0!==p?p:[]),[z,R]=(0,a.useState)(null!==(m=null==N?void 0:N.description)&&void 0!==m?m:""),[A,W]=(0,a.useState)("");(0,a.useEffect)(()=>{(null==N?void 0:N.whatsappSameAsPhone)&&(null==N?void 0:N.phone)&&I(N.phone)},[null==N?void 0:N.whatsappSameAsPhone,null==N?void 0:N.phone]),(0,a.useEffect)(()=>{L&&I(S)},[L,S]),(0,a.useEffect)(()=>{C({phone:S,whatsapp:L?S:T,whatsappSameAsPhone:L,preferredContact:_,bestTimeToCall:P,description:z.slice(0,1e3)})},[S,T,L,_,P,z,C]);let B=e=>{M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"relative px-4 py-12 md:py-16",children:[(0,s.jsx)("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[600px] bg-gradient-radial from-indigo-500/20 via-purple-500/10 to-transparent blur-3xl opacity-60"})}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto relative",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-3",children:k("step4Title")}),(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:k("step4Description")})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(d._,{className:"text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"})," ",k("phone")," *"]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-4 rounded-lg bg-white/5 border border-white/10 text-gray-300 h-12",children:"+964"}),(0,s.jsx)(o.I,{value:null!=S?S:"",onChange:e=>{F(e.target.value),W("")},placeholder:k("phonePlaceholder"),className:"flex-1 h-12 text-base bg-white/5 backdrop-blur-sm border-white/10 rounded-xl focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:bg-white/10 ".concat(A?"border-red-500 focus-visible:ring-red-500/30":"")})]}),A&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-1",children:A})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d._,{className:"text-gray-300 font-medium",children:k("whatsappLabel")}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white transition-colors",children:[(0,s.jsx)(u.X,{checked:L,onCheckedChange:e=>D(!!e)}),(0,s.jsx)("span",{className:"text-sm",children:k("whatsappSame")})]}),!L&&(0,s.jsx)(o.I,{value:null!=T?T:"",onChange:e=>I(e.target.value),placeholder:"+964 750 123 4567",className:"h-12 text-base bg-white/5 backdrop-blur-sm border-white/10 rounded-xl focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:bg-white/10"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(d._,{className:"text-gray-300 font-medium",children:k("preferredContact")}),(0,s.jsxs)(f,{value:null!=_?_:"",onValueChange:U,className:"flex flex-wrap gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white transition-colors",children:[(0,s.jsx)(x,{value:"Phone Call"}),(0,s.jsx)("span",{children:k("contactPhone")})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white transition-colors",children:[(0,s.jsx)(x,{value:"WhatsApp"}),(0,s.jsx)("span",{children:k("contactWhatsApp")})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white transition-colors",children:[(0,s.jsx)(x,{value:"Both"}),(0,s.jsx)("span",{children:k("contactBoth")})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(d._,{className:"text-gray-300 font-medium",children:k("bestTimeToCall")}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:w.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white transition-colors",children:[(0,s.jsx)(u.X,{checked:P.includes(e.id),onCheckedChange:()=>B(e.id)}),(0,s.jsx)("span",{className:"text-sm",children:k(e.key)})]},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(d._,{className:"text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"})," ",k("descriptionLabel")]}),(0,s.jsx)(c.g,{value:null!=z?z:"",onChange:e=>R(e.target.value.slice(0,1e3)),placeholder:k("descriptionPlaceholder"),rows:6,className:"bg-white/5 backdrop-blur-sm border-white/10 rounded-xl text-white resize-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:bg-white/10"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[z.length,"/1000"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:k("descriptionHint")})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-5",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-300 mb-3",children:k("proTips")}),(0,s.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1.5 list-disc list-inside",children:[(0,s.jsx)("li",{children:k("proTip1")}),(0,s.jsx)("li",{children:k("proTip2")}),(0,s.jsx)("li",{children:k("proTip3")}),(0,s.jsx)("li",{children:k("proTip4")}),(0,s.jsx)("li",{children:k("proTip5")})]})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-4 gap-4",children:[(0,s.jsx)(n.z,{variant:"outline",onClick:()=>y.push("/".concat(j,"/sell/step3")),className:"border-white/10 text-gray-300 hover:bg-white/5 h-12 px-6 text-base",children:k("back")}),(0,s.jsx)(n.z,{onClick:()=>{if(!S.trim()){W(k("phoneRequired"));return}if(!function(e){let t=e.replace(/\D/g,"");return!(t.length<10)&&(t.startsWith("964")?t.slice(3):t.startsWith("0")?t.slice(1):t).length>=10}(S)){W(k("validPhone"));return}W(""),C({phone:S.trim(),whatsapp:L?S.trim():T.trim(),whatsappSameAsPhone:L,preferredContact:_,bestTimeToCall:P,description:z.slice(0,1e3)}),y.push("/".concat(j,"/sell/step5"))},className:"bg-indigo-600 hover:bg-indigo-500 h-12 px-8 text-base font-medium shadow-lg shadow-indigo-500/20",children:k("continueToReview")})]})]})]})]})}},85754:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});var s=i(57437),a=i(2265),r=i(67256),l=i(1657);let n=a.forwardRef((e,t)=>{let{className:i,variant:a="default",size:n="default",asChild:o=!1,...d}=e,c=o?r.g7:"button";return(0,s.jsx)(c,{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-[#5B7FFF] text-white hover:bg-[#4a6fff]",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-slate-300 dark:border-[#2a2d3a] bg-transparent hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",secondary:"bg-slate-100 dark:bg-[#2a2d3a] text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-[#3a3d4a]",ghost:"hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",link:"text-[#5B7FFF] underline-offset-4 hover:underline"}[a],{default:"h-10 sm:h-10 px-4 py-2 min-h-[48px] sm:min-h-[40px]",sm:"h-9 sm:h-9 rounded-md px-3 min-h-[48px] sm:min-h-[36px]",lg:"h-11 sm:h-11 rounded-md px-8 min-h-[48px] sm:min-h-[44px]",icon:"h-10 w-10 sm:h-10 sm:w-10 min-h-[48px] min-w-[48px] sm:min-h-[40px] sm:min-w-[40px]"}[n],i),ref:t,...d})});n.displayName="Button"},54900:function(e,t,i){"use strict";i.d(t,{X:function(){return o}});var s=i(57437),a=i(2265),r=i(66062),l=i(1657),n=i(62442);let o=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,s.jsx)(r.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-[#2a2d3a] bg-[#0f1117] ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#5B7FFF] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#5B7FFF] data-[state=checked]:text-white data-[state=checked]:border-[#5B7FFF]",i),...a,children:(0,s.jsx)(r.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})})});o.displayName=r.fC.displayName},45179:function(e,t,i){"use strict";i.d(t,{I:function(){return l}});var s=i(57437),a=i(2265),r=i(1657);let l=a.forwardRef((e,t)=>{let{className:i,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,r.cn)("flex w-full rounded-lg border border-slate-200 dark:border-white/10 bg-white dark:bg-white/[0.03] backdrop-blur-sm px-4 py-3 min-h-[48px] text-base text-start text-slate-900 dark:text-white/90 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 dark:placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/30 focus-visible:ring-offset-2 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 hover:border-indigo-500/50 dark:hover:border-indigo-500/50 hover:bg-slate-50 dark:hover:bg-white/[0.05] touch-manipulation",i),ref:t,...l})});l.displayName="Input"},49842:function(e,t,i){"use strict";i.d(t,{_:function(){return l}});var s=i(57437),a=i(2265),r=i(1657);let l=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,s.jsx)("label",{ref:t,className:(0,r.cn)("text-sm font-medium leading-none text-white peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i),...a})});l.displayName="Label"},23444:function(e,t,i){"use strict";i.d(t,{g:function(){return l}});var s=i(57437),a=i(2265),r=i(1657);let l=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,s.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-lg border border-slate-200 dark:border-white/10 bg-white dark:bg-white/[0.03] backdrop-blur-sm px-4 py-3 text-base text-slate-900 dark:text-white/90 ring-offset-background placeholder:text-slate-400 dark:placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/30 focus-visible:ring-offset-2 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 hover:border-indigo-500/50 dark:hover:border-indigo-500/50 hover:bg-slate-50 dark:hover:bg-white/[0.05] resize-none",i),ref:t,...a})});l.displayName="Textarea"},65864:function(e,t,i){"use strict";i.d(t,{E:function(){return c},e:function(){return u}});var s=i(57437),a=i(2265);let r="sell_wizard_draft",l={make:"",model:"",year:"",price:"",mileage:"",transmission:"",fuel_type:"",condition:"",body_type:"",color:"",previous_owners:"",accident_history:"",features:[]},n={phone:"",whatsapp:"",whatsappSameAsPhone:!0,preferredContact:"",bestTimeToCall:[],description:""},o={location:null,media:[],uploadedMediaUrls:[],carDetails:null,contact:null,editListingId:null,publishedListingId:null},d=(0,a.createContext)(null);function c(e){let{children:t}=e,[i,c]=(0,a.useState)(()=>({...o,...function(){try{var e,t,i,s,a;let l=localStorage.getItem(r);if(!l)return{};let n=JSON.parse(l);return{location:null!==(e=n.location)&&void 0!==e?e:null,media:[],uploadedMediaUrls:[],carDetails:null!==(t=n.carDetails)&&void 0!==t?t:null,contact:null!==(i=n.contact)&&void 0!==i?i:null,editListingId:null!==(s=n.editListingId)&&void 0!==s?s:null,publishedListingId:null!==(a=n.publishedListingId)&&void 0!==a?a:null}}catch(e){return{}}}()}));(0,a.useEffect)(()=>{!function(e){try{let t={location:e.location,media:[],uploadedMediaUrls:[],carDetails:e.carDetails,contact:e.contact,editListingId:e.editListingId,publishedListingId:e.publishedListingId};localStorage.setItem(r,JSON.stringify(t))}catch(e){console.warn("SellWizard persist failed:",e)}}(i)},[i]);let u=(0,a.useCallback)(e=>{c(t=>({...t,location:e}))},[]),h=(0,a.useCallback)(e=>{c(t=>({...t,media:e,uploadedMediaUrls:[]}))},[]),p=(0,a.useCallback)(e=>{c(t=>({...t,uploadedMediaUrls:e}))},[]),m=(0,a.useCallback)(e=>{let t=["video/mp4","video/quicktime","video/x-msvideo"],i=["image/jpeg","image/jpg","image/png","image/webp"];c(s=>{let a=[...s.media],r=a.length;for(let s of e){var l,n,o;if(a.length>=10)break;let e=t.includes(s.type)||/\.(mp4|mov|avi)$/i.test(s.name),d=i.includes(s.type)||/\.(jpe?g|png|webp)$/i.test(s.name);if(!e&&!d)continue;let c=URL.createObjectURL(s);a.push({id:null!==(o=null===(l=(n=crypto).randomUUID)||void 0===l?void 0:l.call(n))&&void 0!==o?o:"m-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9)),file:s,previewUrl:c,isVideo:e,isCover:0===a.length,order:r++})}let d=a.some(e=>e.isCover);return a.length&&!d&&(a[0].isCover=!0),{...s,media:a,uploadedMediaUrls:[]}})},[]),f=(0,a.useCallback)(e=>{c(t=>{var i;let s=t.media.filter(t=>t.id!==e);return(null===(i=t.media.find(t=>t.id===e))||void 0===i?void 0:i.isCover)&&s.length&&(s[0].isCover=!0),{...t,media:s,uploadedMediaUrls:[]}})},[]),x=(0,a.useCallback)(e=>{c(t=>({...t,media:t.media.map(t=>({...t,isCover:t.id===e})),uploadedMediaUrls:[]}))},[]),b=(0,a.useCallback)((e,t)=>{c(i=>{let s=[...i.media],[a]=s.splice(e,1);return a?(s.splice(t,0,a),{...i,media:s.map((e,t)=>({...e,order:t})),uploadedMediaUrls:[]}):i})},[]),g=(0,a.useCallback)(e=>{c(t=>({...t,carDetails:null===e?null:{...l,...t.carDetails,...e}}))},[]),v=(0,a.useCallback)(e=>{c(t=>({...t,contact:null===e?null:{...n,...t.contact,...e}}))},[]),w=(0,a.useCallback)(e=>{c(t=>({...t,editListingId:e}))},[]),y=(0,a.useCallback)(e=>{c(t=>({...t,publishedListingId:e}))},[]),j=(0,a.useCallback)(()=>{c({...o}),localStorage.removeItem(r)},[]),k=(0,a.useCallback)(e=>{c(t=>{var i,s;return{...t,location:e.location?{city:null!==(i=e.location.city)&&void 0!==i?i:"",neighborhood:null!==(s=e.location.neighborhood)&&void 0!==s?s:""}:t.location,carDetails:e.carDetails?{...l,...e.carDetails}:t.carDetails,contact:e.contact?{...n,...e.contact}:t.contact}})},[]),N=(0,a.useMemo)(()=>({...i,setLocation:u,setMedia:h,setUploadedMediaUrls:p,addMedia:m,removeMedia:f,setCover:x,reorderMedia:b,setCarDetails:g,setContact:v,setEditListingId:w,setPublishedListingId:y,clearDraft:j,loadForEdit:k}),[i,u,h,p,m,f,x,b,g,v,w,y,j,k]);return(0,s.jsx)(d.Provider,{value:N,children:t})}function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useSellWizard must be used within SellWizardProvider");return e}},1657:function(e,t,i){"use strict";i.d(t,{cb:function(){return c},cn:function(){return r},gQ:function(){return d},uf:function(){return n},wo:function(){return u},xG:function(){return l}});var s=i(57042),a=i(74769);function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.m6)((0,s.W)(t))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e){return new Intl.NumberFormat("en-US").format(e)}function o(e){return e<=0||!isFinite(e)?0:Math.round(235.214583/e*10)/10}function d(e,t){let i=o(e),s=o(t);return"".concat(i," / ").concat(s," L/100km")}function c(e){return null!=e&&"string"==typeof e&&/\.(mp4|mov|avi)(\?|$)/i.test(e)}function u(e,t){var i;if(null==e||"string"!=typeof e||!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;let s=(null!==(i=null!=t?t:"http://localhost:8000")&&void 0!==i?i:"").replace(/\/$/,"");return s?s+(e.startsWith("/")?e:"/"+e):e}}},function(e){e.O(0,[7895,116,6376,7633,4132,2971,4938,1744],function(){return e(e.s=88180)}),_N_E=e.O()}]);