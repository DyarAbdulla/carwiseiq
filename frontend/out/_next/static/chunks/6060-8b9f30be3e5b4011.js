"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6060,5922],{42375:function(e,t,r){r.r(t),r.d(t,{ErrorBoundary:function(){return f}});var n=r(57437),a=r(2265),s=r(85754),i=r(27815),l=r(11981),o=r(64280),d=r(77480),c=r(61396),u=r.n(c);class f extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){if(this.state.hasError){var e;return this.props.fallback?this.props.fallback:(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[#0f1117] p-4",children:(0,n.jsxs)(i.Zb,{className:"max-w-2xl w-full border-red-500/50 bg-[#1a1d29]",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.Z,{className:"h-6 w-6 text-red-500"}),(0,n.jsx)(i.ll,{className:"text-red-400",children:"Something went wrong"})]}),(0,n.jsx)(i.SZ,{className:"text-[#94a3b8]",children:"An error occurred while rendering this component"})]}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[this.state.error&&(0,n.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,n.jsx)("p",{className:"text-sm text-red-400 font-mono break-all",children:this.state.error.message||"Unknown error"}),!1]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(s.z,{onClick:this.handleReset,className:"bg-[#5B7FFF] hover:bg-[#4a6fe6]",children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Try again"]}),(0,n.jsx)(u(),{href:null!==(e=this.props.homeHref)&&void 0!==e?e:"/",children:(0,n.jsxs)(s.z,{variant:"outline",className:"border-[#2a2d3a]",children:[(0,n.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Go home"]})})]})]})]})})}return this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}}},98256:function(e,t,r){r.d(t,{N:function(){return x}});var n=r(57437),a=r(2265),s=r(61396),i=r.n(s),l=r(24033),o=r(50116),d=r(6678),c=r(85754),u=r(29251),f=r(9883),h=r(1657),m=r(42706);function x(e){let{as:t="button",className:r,variant:s="default",size:x,children:p,showIcon:b=!0,onClick:g}=e,v=(0,l.useRouter)(),w=(0,o.useLocale)()||"en",N=(0,o.useTranslations)("auth"),{user:y}=(0,d.useAuthContext)(),[j,k]=(0,a.useState)(!1),C="/".concat(w,"/sell/step1"),I="/".concat(w,"/login?returnUrl=").concat(encodeURIComponent(C)),F="/".concat(w,"/register?reason=sell&returnUrl=").concat(encodeURIComponent(C)),R=()=>{if(null==g||g(),!y){k(!0);return}v.push(C)},S=(0,n.jsxs)(n.Fragment,{children:[b&&(0,n.jsxs)("span",{className:"relative inline-flex items-center justify-center",children:[(0,n.jsx)(u.Z,{className:"h-[18px] w-[18px] shrink-0"}),(0,n.jsx)(f.Z,{className:"h-2.5 w-2.5 shrink-0 absolute -top-0.5 -right-0.5 bg-white rounded-full p-0.5 text-indigo-600",strokeWidth:3})]}),p]}),z=y?(0,n.jsx)(i(),{href:C,className:(0,h.cn)("span"===t?"inline-flex items-center gap-2 cursor-pointer":"",r),onClick:()=>null==g?void 0:g(),children:S}):"span"===t?(0,n.jsx)("span",{role:"button",tabIndex:0,onClick:R,onKeyDown:e=>"Enter"===e.key&&R(),className:(0,h.cn)("inline-flex items-center gap-2 cursor-pointer",r),children:S}):(0,n.jsx)(c.z,{type:"button",variant:s,size:x,className:r,onClick:R,children:S}),Z=(0,n.jsx)(m.Vq,{open:j,onOpenChange:k,children:(0,n.jsxs)(m.cZ,{className:"sm:max-w-md border-[#2a2d3a] bg-slate-900/95 backdrop-blur-xl",children:[(0,n.jsxs)(m.fK,{children:[(0,n.jsx)(m.$N,{className:"text-white",children:N("sellCarAuthRequiredTitle")}),(0,n.jsx)(m.Be,{className:"text-slate-400",children:N("sellCarAuthRequired")})]}),(0,n.jsxs)(m.cN,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:[(0,n.jsx)(c.z,{variant:"outline",className:"border-white/20 bg-white/5 text-white hover:bg-white/10",onClick:()=>{k(!1),v.push(I)},children:N("signIn")}),(0,n.jsx)(c.z,{className:"bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>{k(!1),v.push(F)},children:N("createAccount")})]})]})});return(0,n.jsxs)(n.Fragment,{children:[z,Z]})}},31478:function(e,t,r){r.d(t,{C:function(){return i}});var n=r(57437),a=r(2265),s=r(1657);let i=a.forwardRef((e,t)=>{let{className:r,variant:a="default",...i}=e,l={default:"bg-[#5B7FFF] text-white",success:"bg-green-600 text-white",warning:"bg-yellow-600 text-white",destructive:"bg-red-600 text-white",secondary:"bg-[#2a2d3a] text-[#94a3b8]",outline:"border border-[#2a2d3a] text-white"};return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",l[a]||l.default,r),...i})});i.displayName="Badge"},85754:function(e,t,r){r.d(t,{z:function(){return l}});var n=r(57437),a=r(2265),s=r(67256),i=r(1657);let l=a.forwardRef((e,t)=>{let{className:r,variant:a="default",size:l="default",asChild:o=!1,...d}=e,c=o?s.g7:"button";return(0,n.jsx)(c,{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-[#5B7FFF] text-white hover:bg-[#4a6fff]",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-slate-300 dark:border-[#2a2d3a] bg-transparent hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",secondary:"bg-slate-100 dark:bg-[#2a2d3a] text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-[#3a3d4a]",ghost:"hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",link:"text-[#5B7FFF] underline-offset-4 hover:underline"}[a],{default:"h-10 sm:h-10 px-4 py-2 min-h-[48px] sm:min-h-[40px]",sm:"h-9 sm:h-9 rounded-md px-3 min-h-[48px] sm:min-h-[36px]",lg:"h-11 sm:h-11 rounded-md px-8 min-h-[48px] sm:min-h-[44px]",icon:"h-10 w-10 sm:h-10 sm:w-10 min-h-[48px] min-w-[48px] sm:min-h-[40px] sm:min-w-[40px]"}[l],r),ref:t,...d})});l.displayName="Button"},27815:function(e,t,r){r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var n=r(57437),a=r(2265),s=r(1657);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border border-slate-200 dark:border-[#2a2d3a] bg-white dark:bg-[#1a1d29] text-slate-900 dark:text-white shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight text-slate-900 dark:text-white",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-slate-600 dark:text-[#94a3b8]",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},42706:function(e,t,r){r.d(t,{$N:function(){return x},Be:function(){return p},Vq:function(){return o},cN:function(){return m},cZ:function(){return f},fK:function(){return h},hg:function(){return d}});var n=r(57437),a=r(2265),s=r(79515),i=r(82549),l=r(1657);let o=s.fC,d=s.xz,c=s.h_;s.x8;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-[1100] bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});u.displayName=s.aV.displayName;let f=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-[1100] grid w-full max-w-lg max-h-[90vh] overflow-y-auto overscroll-contain translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 dark:border-[#2a2d3a] bg-white dark:bg-[#1a1d29] p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[a,(0,n.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4 text-slate-600 dark:text-[#94a3b8]"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=s.VY.displayName;let h=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};h.displayName="DialogHeader";let m=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};m.displayName="DialogFooter";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900 dark:text-white",r),...a})});x.displayName=s.Dx.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-slate-600 dark:text-[#94a3b8]",r),...a})});p.displayName=s.dk.displayName},45179:function(e,t,r){r.d(t,{I:function(){return i}});var n=r(57437),a=r(2265),s=r(1657);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex w-full rounded-lg border border-slate-200 dark:border-white/10 bg-white dark:bg-white/[0.03] backdrop-blur-sm px-4 py-3 min-h-[48px] text-base text-start text-slate-900 dark:text-white/90 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 dark:placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/30 focus-visible:ring-offset-2 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 hover:border-indigo-500/50 dark:hover:border-indigo-500/50 hover:bg-slate-50 dark:hover:bg-white/[0.05] touch-manipulation",r),ref:t,...i})});i.displayName="Input"},6678:function(e,t,r){r.r(t),r.d(t,{AuthProvider:function(){return l},useAuthContext:function(){return o}});var n=r(57437),a=r(2265),s=r(45922);let i=(0,a.createContext)(null);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0),m=(0,a.useCallback)(async e=>{var t;let{data:r,error:n}=await s.supabase.from("users").select("role").eq("id",e).maybeSingle();return n||!r?null:null!==(t=r.role)&&void 0!==t?t:null},[]),x=(0,a.useCallback)(async()=>{try{let{data:{session:e},error:t}=await s.supabase.auth.getSession();if(t||!e){d(null),l(null),u(null);return}d(e),l(e.user),h(!1);try{let t=await m(e.user.id);u(t)}catch(e){u(null)}}catch(e){d(null),l(null),u(null)}finally{h(!1)}},[m]);(0,a.useEffect)(()=>{x();let{data:{subscription:e}}=s.supabase.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_OUT"===e||!t){d(null),l(null),u(null),h(!1);return}d(t),l(t.user);try{let e=await m(t.user.id);u(e)}finally{h(!1)}}),t=setTimeout(()=>{h(e=>!e&&e)},8e3);return()=>{clearTimeout(t),e.unsubscribe()}},[x,m]);let p=(0,a.useCallback)(async()=>{h(!0),await s.supabase.auth.signOut(),d(null),l(null),u(null),h(!1)},[]),b=(0,a.useMemo)(()=>({user:r,session:o,role:c,isAdmin:"admin"===c,loading:f,signOut:p}),[r,o,c,f,p]);return(0,n.jsx)(i.Provider,{value:b,children:t})}function o(){let e=(0,a.useContext)(i);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},25703:function(e,t,r){r.r(t),r.d(t,{ToastProvider:function(){return l},useToast:function(){return o}});var n=r(57437),a=r(2265),s=r(1657);let i=a.createContext({toast:()=>{}});function l(e){let{children:t}=e,[r,l]=a.useState([]),o=a.useCallback(e=>{var t;let r=Math.random().toString(36).substring(7);l(t=>[...t,{...e,id:r}]),setTimeout(()=>{l(e=>e.filter(e=>e.id!==r))},null!==(t=e.duration)&&void 0!==t?t:5e3)},[]);return(0,n.jsxs)(i.Provider,{value:{toast:o},children:[t,(0,n.jsx)("div",{className:"fixed bottom-0 right-0 z-[1200] flex w-full flex-col-reverse gap-2 p-4 sm:flex-col md:max-w-[420px]",children:r.map(e=>(0,n.jsxs)("div",{className:(0,s.cn)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md p-6 pr-8 shadow-lg transition-all","destructive"===e.variant?"border border-red-500/50 bg-red-950/30":"border border-[#2a2d3a] bg-[#1a1d29]"),children:[(0,n.jsxs)("div",{className:"grid gap-1",children:[e.title&&(0,n.jsx)("div",{className:(0,s.cn)("text-sm font-semibold","destructive"===e.variant?"text-red-200":"text-white"),children:e.title}),e.description&&(0,n.jsx)("div",{className:(0,s.cn)("text-sm","destructive"===e.variant?"text-red-300/90":"text-[#94a3b8]"),children:e.description})]}),(0,n.jsx)("button",{onClick:()=>l(t=>t.filter(t=>t.id!==e.id)),className:"absolute right-2 top-2 rounded-md p-1 text-[#94a3b8] opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none group-hover:opacity-100",children:"\xd7"})]},e.id))})]})}function o(){return a.useContext(i)||{toast:e=>{"destructive"===e.variant&&console.error("Error:",e.description)}}}},45922:function(e,t,r){r.d(t,{supabase:function(){return n}});let n=(0,r(33226).eI)("https://fehkzrrahgyesxzrwlme.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZlaGt6cnJhaGd5ZXN4enJ3bG1lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxNzcwNjEsImV4cCI6MjA4NDc1MzA2MX0.AI8QaX8nOP8UwcfmgbGN2EN4jmK94i98Kpd3ZtPDZRQ",{auth:{lock:(e,t,r)=>r()}})},1657:function(e,t,r){r.d(t,{cb:function(){return c},cn:function(){return s},gQ:function(){return d},uf:function(){return l},wo:function(){return u},xG:function(){return i}});var n=r(57042),a=r(74769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function l(e){return new Intl.NumberFormat("en-US").format(e)}function o(e){return e<=0||!isFinite(e)?0:Math.round(235.214583/e*10)/10}function d(e,t){let r=o(e),n=o(t);return"".concat(r," / ").concat(n," L/100km")}function c(e){return null!=e&&"string"==typeof e&&/\.(mp4|mov|avi)(\?|$)/i.test(e)}function u(e,t){var r;if(null==e||"string"!=typeof e||!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;let n=(null!==(r=null!=t?t:"http://localhost:8000")&&void 0!==r?r:"").replace(/\/$/,"");return n?n+(e.startsWith("/")?e:"/"+e):e}}}]);