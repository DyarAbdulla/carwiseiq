(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7575],{11981:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},20173:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},81291:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},77480:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},38438:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},74056:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},8759:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},49036:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},85790:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3780:function(e,t,a){Promise.resolve().then(a.bind(a,20302))},20302:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ed}});var s=a(57437),r=a(2265),i=a(24930),l=a.n(i),n=a(50116),o=a(27815),c=a(61865),d=a(38110),m=a(93134),u=a(4380),h=a(45179),x=a(49842),g=a(45509),p=a(76683),f=a(40992),b=a(85754),y=a(63572),j=a(6771),v=a(25703),w=a(72700),N=a(4479),k=a(62442),_=a(17158),S=a(81291),E=a(98777),C=a(62167),z=a(81809);let Z=m.Ry({make:m.Z_().min(1,"Make is required"),model:m.Z_().min(1,"Model is required"),trim:m.Z_().optional(),year:m.Rx().min(1900).max(2025)}),I=m.Ry({mileage:m.Rx().min(0).max(1e6),engine_size:m.Rx({required_error:"Engine size is required"}).min(.5).max(10),cylinders:m.Rx().min(2).max(12),fuel_type:m.Z_().min(1)}),O=m.Ry({condition:m.Z_().min(1),location:m.Z_().min(1)}),T=m.Ry({year:m.Rx().min(1900).max(2025),mileage:m.Rx().min(0).max(1e6),engine_size:m.Rx({required_error:"Engine size is required"}).min(.5).max(10),cylinders:m.Rx().min(2).max(12),make:m.Z_().min(1),model:m.Z_().min(1),trim:m.Z_().optional(),condition:m.Z_().min(1),fuel_type:m.Z_().min(1),location:m.Z_().min(1),color:m.Z_().optional()});function P(e){let{onSubmit:t,loading:a=!1,prefillData:i=null,onFormChange:l}=e,o=(0,n.useTranslations)("predict.form"),{toast:m}=(0,v.useToast)(),[P,M]=(0,r.useState)(1),[V,F]=(0,r.useState)([]),[R,L]=(0,r.useState)({}),[D,A]=(0,r.useState)([]),[B,q]=(0,r.useState)([]),[Y,H]=(0,r.useState)(j.jq),[W,Q]=(0,r.useState)(j.t9),[U,J]=(0,r.useState)(j.kd),[X,G]=(0,r.useState)(j.ws),[$,K]=(0,r.useState)(j.QG),[ee,et]=(0,r.useState)(j.ST.make||""),[ea,es]=(0,r.useState)(j.ST.model||""),[er,ei]=(0,r.useState)([]),[el,en]=(0,r.useState)([]),[eo,ec]=(0,r.useState)([]),[ed,em]=(0,r.useState)(!0),[eu,eh]=(0,r.useState)(!1),[ex,eg]=(0,r.useState)(!1),[ep,ef]=(0,r.useState)(!1),[eb,ey]=(0,r.useState)(!1),[ej,ev]=(0,r.useState)(!1),ew=(0,N.C)(3e5),eN=(0,r.useRef)(new Map),ek=(0,c.cI)({resolver:(0,d.F)(T),defaultValues:i?{year:i.year,mileage:i.mileage,engine_size:i.engine_size,cylinders:i.cylinders,make:i.make,model:i.model,trim:i.trim||"",condition:i.condition,fuel_type:i.fuel_type,location:i.location,color:i.color||""}:{year:j.ST.year,mileage:j.ST.mileage,engine_size:j.ST.engine_size,cylinders:j.ST.cylinders,make:j.ST.make,model:j.ST.model,trim:"",condition:j.ST.condition,fuel_type:j.ST.fuel_type,location:j.ST.location,color:""}}),e_=ek.watch("make"),eS=ek.watch("model"),eE=ek.watch("year"),eC=ek.watch("engine_size"),ez=(0,w.N)(e_,1e3),eZ=(0,w.N)(eS,1e3),eI=(0,w.N)(eC,1e3);(0,r.useEffect)(()=>{let e=[1,1.2,1.4,1.5,1.6,1.8,2,2.2,2.4,2.5,2.7,3,3.5,4,4.5,5,5.5,6,6.5,7,8];ei(e.map(e=>({size:e,display:"".concat(e,"L")}))),en(e.map(e=>({size:e,display:"".concat(e,"L")})))},[]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{em(!0);try{var t,a;let s=await Promise.all([eT(),eR(),eO()]),r=null!==(t=s[1])&&void 0!==t?t:[];if(e){let e=(null===(a=ek.getValues("location"))||void 0===a?void 0:a.trim())||"";if(!(e&&(null==r?void 0:r.some(t=>t.trim().toLowerCase()===e.toLowerCase())))&&(null==r?void 0:r.length)>0){let e=r[0];ek.setValue("location",e,{shouldValidate:!0,shouldDirty:!1})}let t=j.ST.make||ek.getValues("make"),s=j.ST.model||ek.getValues("model");t&&""!==t.trim()&&(et(t),eP(t),s&&""!==s.trim()&&(es(s),await eM(t,s))),er.length>0&&en(er)}}finally{e&&em(!1)}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{ee&&eP(ee)},[ee,R]),(0,r.useEffect)(()=>{ez&&eZ&&""!==ez.trim()&&""!==eZ.trim()&&eM(ez,eZ)},[ez,eZ]),(0,r.useEffect)(()=>{ez&&eZ&&""!==ez.trim()&&""!==eZ.trim()&&eV(ez,eZ)},[ez,eZ]),(0,r.useEffect)(()=>{ez&&eZ&&eI&&""!==ez.trim()&&""!==eZ.trim()&&eF(ez,eZ,eI)},[ez,eZ,eI]),(0,r.useEffect)(()=>{if(l){let e=ek.getValues();(e.make||e.model||e.year)&&l({make:e.make,model:e.model,year:e.year})}},[e_,eS,eE]),(0,r.useEffect)(()=>{i&&(ek.reset({year:i.year,mileage:i.mileage,engine_size:i.engine_size,cylinders:i.cylinders,make:i.make,model:i.model,trim:i.trim||"",condition:i.condition,fuel_type:i.fuel_type,location:i.location,color:i.color||""}),et(i.make),eP(i.make))},[i]);let eO=async()=>{eg(!0);try{let e=await y.apiClient.getMetadata();e.conditions.length>0&&Q(e.conditions),e.fuel_types.length>0&&J(e.fuel_types),e.year_range&&G(e.year_range),e.mileage_range&&K(e.mileage_range)}catch(e){}finally{eg(!1)}},eT=async()=>{try{let e=await y.apiClient.getMakes();F(e.length>0?e:[]);let t=e.map(async e=>{try{let t=await y.apiClient.getModels(e);return{make:e,models:t}}catch(t){return{make:e,models:[]}}}),a=await Promise.all(t),s={};a.forEach(e=>{let{make:t,models:a}=e;s[t]=a}),L(s);let r=j.ST.make||ek.getValues("make");r&&s[r]&&A(s[r])}catch(e){F([]),L({})}},eP=e=>{if(!e||""===e.trim()){A([]);return}A(R[e]||[]),ek.setValue("model",""),es(""),q([]),ek.setValue("trim",""),ek.clearErrors("trim")},eM=async(e,t)=>{if(eu||!e||!t||""===e.trim()||""===t.trim()){q([]),ek.setValue("trim",""),ek.clearErrors("trim");return}let a="trims:".concat(e,":").concat(t),s=eN.current.get(a);s&&s.abort();let r=new AbortController;eN.current.set(a,r),eh(!0);try{let s=await ew.getOrFetch(a,async()=>{try{return await y.apiClient.getTrims(e,t)}catch(e){throw e.name,e}});if(r.signal.aborted)return;if(s.length>0){q(s);let e=ek.getValues("trim");e&&s.includes(e)||(ek.setValue("trim",s[0]),ek.clearErrors("trim"))}else q([]),ek.setValue("trim",""),ek.clearErrors("trim")}catch(e){if("AbortError"===e.name)return;console.error("Error loading trims:",e),q([]),ek.setValue("trim","")}finally{eN.current.delete(a),eh(!1)}},eV=async(e,t)=>{if(ep||!e||!t||""===e.trim()||""===t.trim()){en(er);return}let a="engines:".concat(e,":").concat(t),s=eN.current.get(a);s&&s.abort();let r=new AbortController;eN.current.set(a,r),ef(!0);try{let s=await ew.getOrFetch(a,async()=>{try{return await y.apiClient.getAvailableEngines(e,t)}catch(e){throw e.name,e}});if(r.signal.aborted)return;s.length>0?(en(s),1===s.length&&s[0].size&&(ek.setValue("engine_size",s[0].size),await eF(e,t,s[0].size))):en(er)}catch(e){if("AbortError"===e.name)return;en(er)}finally{eN.current.delete(a),ef(!1)}},eF=async(e,t,a)=>{if(eb||!e||!t||""===e.trim()||""===t.trim()||!a){ec([]);return}let s="cylinders:".concat(e,":").concat(t,":").concat(a),r=eN.current.get(s);r&&r.abort();let i=new AbortController;eN.current.set(s,i),ey(!0);try{let r=await ew.getOrFetch(s,async()=>{try{return await y.apiClient.getAvailableCylinders(e,t,a)}catch(e){throw e.name,e}});if(i.signal.aborted)return;ec(r),1===r.length&&r[0]?ek.setValue("cylinders",r[0]):r.length>0&&!r.includes(ek.getValues("cylinders"))&&r[0]&&ek.setValue("cylinders",r[0])}catch(e){if("AbortError"===e.name)return;ec([4])}finally{eN.current.delete(s),ey(!1)}},eR=async()=>{try{let e=await y.apiClient.getLocations(),t=Array.isArray(e)&&e.length>0?[...e].sort((e,t)=>e.localeCompare(t)):j.jq;return H(t),t}catch(e){return H(j.jq),j.jq}},eL=async e=>{let t=ek.getValues();try{return await (1===e?Z:2===e?I:O).parseAsync(t),!0}catch(e){return e instanceof u.jm&&e.errors.forEach(e=>{let t=e.path[0];ek.setError(t,{message:e.message})}),!1}},eD=async()=>{await eL(P)?M(e=>Math.min(e+1,3)):m({title:"Please fill in all required fields",variant:"destructive"})},eA=()=>{M(e=>Math.max(e-1,1))},eB=e=>{t({year:e.year,mileage:e.mileage,engine_size:e.engine_size,cylinders:e.cylinders,make:e.make,model:e.model,trim:e.trim||"__none__",condition:e.condition,fuel_type:e.fuel_type,location:e.location,color:e.color||""})},eq=async()=>{await eL(3)?ek.handleSubmit(eB)():m({title:"Please fill in all required fields",variant:"destructive"})},eY=()=>{let e=ek.getValues();return 1===P?!!(e.make&&e.model&&e.year):2===P?!!(e.mileage&&e.engine_size&&e.cylinders&&e.fuel_type):3===P&&!!(e.condition&&e.location)};return(0,s.jsxs)("div",{className:"p-0 h-full flex flex-col",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-500 bg-clip-text text-transparent drop-shadow-lg",children:o("carWiseIQ")})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"mb-3 text-center",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-white drop-shadow-sm",children:o("stepOf",{step:P})})}),(0,s.jsxs)("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden backdrop-blur-sm",children:[(0,s.jsx)(E.E.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-indigo-500 via-blue-500 to-purple-600 rounded-full",initial:{width:"".concat((P-1)/3*100,"%")},animate:{width:"".concat((P-1)/3*100,"%")},transition:{duration:.5,ease:"easeInOut"}}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:[1,2,3].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>M(e),className:"relative z-10 w-6 h-6 rounded-full border-2 transition-all duration-300 ".concat(e<=P?"bg-gradient-to-br from-indigo-500 to-purple-600 border-indigo-400 shadow-lg shadow-indigo-500/50 scale-110":"bg-white/10 border-white/20 scale-100"," hover:scale-125 cursor-pointer"),children:[e<P&&(0,s.jsx)(k.Z,{className:"w-3 h-3 text-white absolute inset-0 m-auto"}),e===P&&(0,s.jsx)("span",{className:"text-xs font-bold text-white absolute inset-0 flex items-center justify-center",children:e})]},e))})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-3 px-1",children:[(0,s.jsx)("span",{className:"text-xs font-semibold transition-all duration-300 drop-shadow-sm ".concat(P>=1?"text-white":"text-white/60"),children:o("carBasicsStep")}),(0,s.jsx)("span",{className:"text-xs font-semibold transition-all duration-300 drop-shadow-sm ".concat(P>=2?"text-white":"text-white/60"),children:o("specsStep")}),(0,s.jsx)("span",{className:"text-xs font-semibold transition-all duration-300 drop-shadow-sm ".concat(P>=3?"text-white":"text-white/60"),children:o("detailsStep")})]})]}),(0,s.jsxs)("form",{onSubmit:ek.handleSubmit(eB),className:"flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 min-h-0",children:(0,s.jsxs)(C.M,{mode:"wait",children:[1===P&&(0,s.jsx)(E.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.make,children:(0,s.jsx)(x._,{htmlFor:"make",className:"text-white font-medium text-sm drop-shadow-sm",children:o("make")})}),(0,s.jsx)(p.V,{value:ek.watch("make")||"",onValueChange:e=>{e&&e!==ee&&(ek.setValue("make",e),et(e),eP(e))},options:V,placeholder:ed?"Loading...":"Type to search makes...",disabled:ed,emptyMessage:"No makes available",searchPlaceholder:"Type to search...",className:"border-white/20 bg-black/30 backdrop-blur-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.model,children:(0,s.jsx)(x._,{htmlFor:"model",className:"text-white font-medium text-sm drop-shadow-sm",children:o("model")})}),(0,s.jsx)(p.V,{value:ek.watch("model")||"",onValueChange:e=>{ek.setValue("model",e),es(e),en([]),ec([]),ek.setValue("trim",""),ek.clearErrors("trim"),q([])},options:D,placeholder:ee?D.length>0?"Type to search models...":"No models available":"Select make first",disabled:!ee||ed,emptyMessage:ee?"No models found for ".concat(ee):"Select a make first",searchPlaceholder:"Type to search...",className:"border-white/20 bg-black/30 backdrop-blur-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300"})]}),(0,s.jsxs)("div",{className:"space-y-1.5 sm:col-span-2",children:[(0,s.jsx)(z.I,{content:z.l.trim,children:(0,s.jsx)(x._,{htmlFor:"trim",className:"text-white font-medium text-sm drop-shadow-sm",children:o("trim")})}),(0,s.jsxs)(g.Ph,{value:ek.watch("trim")||"",onValueChange:e=>{ek.setValue("trim",e),ek.clearErrors("trim")},disabled:!ee||!ea||eu,children:[(0,s.jsx)(g.i4,{className:"".concat(ek.formState.errors.trim?"border-red-500":"border-white/20"," bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300"),children:(0,s.jsx)(g.ki,{placeholder:o(eu?"loadingTrims":ee&&ea?B.length>0?"selectTrim":"noTrimsAvailable":"selectMakeModelFirst")})}),(0,s.jsx)(g.Bw,{className:"max-h-[300px] bg-[#1a1d29] border-[#2a2d3a]",children:eu?(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:o("loadingTrims")}):B.length>0?B.map(e=>(0,s.jsx)(g.Ql,{value:e,className:"text-white",children:e},e)):ee&&ea?(0,s.jsxs)("div",{className:"p-2 text-center text-[#94a3b8] text-xs",children:["No trim variants found for ",ee," ",ea]}):(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:o("selectMakeModelFirst")})})]},"trim-select-".concat(ee,"-").concat(ea)),ek.formState.errors.trim&&(0,s.jsx)("p",{className:"text-sm text-red-400 mt-1",children:ek.formState.errors.trim.message})]}),(0,s.jsxs)("div",{className:"space-y-1.5 sm:col-span-2",children:[(0,s.jsx)(z.I,{content:z.l.year,children:(0,s.jsxs)(x._,{htmlFor:"year",className:"text-white/90 text-sm font-medium",children:[o("year"),": ",(0,s.jsx)("span",{className:"text-blue-400 font-bold text-base",children:ek.watch("year")})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.i,{value:[ek.watch("year")],onValueChange:e=>{let[t]=e;return ek.setValue("year",t)},min:X.min,max:X.max,step:1,className:"w-full"}),(0,s.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-white/60",children:[(0,s.jsx)("span",{children:X.min}),(0,s.jsx)("span",{children:X.max})]})]})]})]})},"step1"),2===P&&(0,s.jsx)(E.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.mileage,children:(0,s.jsxs)(x._,{htmlFor:"mileage",className:"text-white font-medium text-sm drop-shadow-sm",children:[o("mileage")," (km)"]})}),(0,s.jsx)(h.I,{id:"mileage",type:"number",className:"border-white/20 bg-black/30 backdrop-blur-sm text-white h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300",...ek.register("mileage",{valueAsNumber:!0})})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.engine_size,children:(0,s.jsxs)(x._,{htmlFor:"engine_size",className:"text-white font-medium text-sm drop-shadow-sm",children:[o("engineSize")," ",(0,s.jsx)("span",{className:"text-red-400 font-bold",children:"*"})]})}),(0,s.jsxs)(g.Ph,{value:ek.watch("engine_size")?ek.watch("engine_size").toString():"",onValueChange:e=>{if(e&&""!==e){let t=parseFloat(e);ek.setValue("engine_size",t),ek.clearErrors("engine_size"),ee&&ea&&eF(ee,ea,t)}},disabled:ep||0===er.length&&0===el.length,children:[(0,s.jsx)(g.i4,{className:"".concat(ek.formState.errors.engine_size?"border-red-500":"border-white/20"," bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300"),children:(0,s.jsx)(g.ki,{placeholder:ep?"Loading...":er.length>0||el.length>0?"Select engine size":"Loading engine sizes..."})}),(0,s.jsx)(g.Bw,{className:"bg-[#1a1d29] border-[#2a2d3a]",children:ep?(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"Loading engines..."}):el.length>0||er.length>0?(el.length>0?el:er).map(e=>(0,s.jsx)(g.Ql,{value:e.size.toString(),className:"text-white",children:e.display},e.size)):(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"No engine sizes available"})})]}),ek.formState.errors.engine_size&&(0,s.jsx)("p",{className:"text-sm text-red-400 mt-1",children:ek.formState.errors.engine_size.message})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.cylinders,children:(0,s.jsx)(x._,{htmlFor:"cylinders",className:"text-white font-medium text-sm drop-shadow-sm",children:o("cylinders")})}),(0,s.jsxs)(g.Ph,{value:ek.watch("cylinders")?ek.watch("cylinders").toString():"",onValueChange:e=>{e&&""!==e&&ek.setValue("cylinders",parseInt(e))},disabled:!ee||!ea||!eC||eb||0===eo.length,children:[(0,s.jsx)(g.i4,{className:"border-white/20 bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300",children:(0,s.jsx)(g.ki,{placeholder:eb?"Loading...":eo.length>0?"Select cylinders":ee&&ea&&eC?"No cylinders available":"Select make, model, and engine first"})}),(0,s.jsx)(g.Bw,{className:"bg-[#1a1d29] border-[#2a2d3a]",children:eb?(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"Loading cylinders..."}):eo.length>0?eo.map(e=>(0,s.jsx)(g.Ql,{value:e.toString(),className:"text-white",children:e},e)):(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"Select make, model, and engine first"})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.fuel_type,children:(0,s.jsx)(x._,{className:"text-white font-medium text-sm drop-shadow-sm",children:o("fuelType")})}),(0,s.jsxs)(g.Ph,{value:ek.watch("fuel_type"),onValueChange:e=>{ek.setValue("fuel_type",e),ek.formState.errors.fuel_type&&ek.clearErrors("fuel_type")},disabled:!ee||!ea||ej,children:[(0,s.jsx)(g.i4,{className:"border-white/20 bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300",children:(0,s.jsx)(g.ki,{placeholder:ej?"Loading...":ee&&ea?U.length>0?"Select fuel type":"No fuel types available":"Select make and model first"})}),(0,s.jsx)(g.Bw,{className:"bg-[#1a1d29] border-[#2a2d3a]",children:ej?(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"Loading fuel types..."}):U.length>0?U.map(e=>(0,s.jsx)(g.Ql,{value:e,className:"text-white",children:e},e)):(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"Select make and model first"})})]})]})]})},"step2"),3===P&&(0,s.jsx)(E.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.condition,children:(0,s.jsx)(x._,{className:"text-white font-medium text-sm drop-shadow-sm",children:o("condition")})}),(0,s.jsxs)(g.Ph,{value:ek.watch("condition")||"",onValueChange:e=>ek.setValue("condition",e),children:[(0,s.jsx)(g.i4,{className:"border-white/20 bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300",children:(0,s.jsx)(g.ki,{placeholder:"Select condition"})}),(0,s.jsx)(g.Bw,{className:"bg-[#1a1d29] border-[#2a2d3a]",children:W.map(e=>(0,s.jsx)(g.Ql,{value:e,className:"text-white",children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(z.I,{content:z.l.location,children:(0,s.jsx)(x._,{htmlFor:"location",className:"text-white font-medium text-sm drop-shadow-sm",children:o("location")})}),(0,s.jsxs)(g.Ph,{value:ek.watch("location")||"",onValueChange:e=>ek.setValue("location",e),children:[(0,s.jsx)(g.i4,{className:"border-white/20 bg-black/30 backdrop-blur-sm h-9 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50 focus:shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300",children:(0,s.jsx)(g.ki,{placeholder:"Select location"})}),(0,s.jsx)(g.Bw,{className:"max-h-[300px] bg-[#1a1d29] border-[#2a2d3a]",children:Y.length>0?Y.map(e=>(0,s.jsx)(g.Ql,{value:e,className:"text-white",children:e},e)):(0,s.jsx)("div",{className:"p-2 text-center text-[#94a3b8]",children:"No locations available"})})]})]})]})},"step3")]})}),(0,s.jsx)("div",{className:"mt-4 pt-3 border-t border-white/10",children:1===P?(0,s.jsxs)(b.z,{type:"button",onClick:eD,disabled:!eY(),className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-400 hover:to-purple-500 text-white shadow-lg shadow-indigo-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:[o("next"),(0,s.jsx)(_.Z,{className:"w-4 h-4 ml-2 rtl:rotate-180"})]}):2===P?(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(b.z,{type:"button",variant:"outline",onClick:eA,className:"border-white/20 bg-white/5 hover:bg-white/10 text-white",children:[(0,s.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),o("back")]}),(0,s.jsxs)(b.z,{type:"button",onClick:eD,disabled:!eY(),className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-400 hover:to-purple-500 text-white shadow-lg shadow-indigo-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:[o("next"),(0,s.jsx)(_.Z,{className:"w-4 h-4 ml-2 rtl:rotate-180"})]})]}):(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(b.z,{type:"button",variant:"outline",onClick:eA,className:"border-white/20 bg-white/5 hover:bg-white/10 text-white",children:[(0,s.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),o("back")]}),(0,s.jsx)(b.z,{type:"button",onClick:eq,disabled:a||!eY(),className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-400 hover:to-purple-500 text-white shadow-lg shadow-indigo-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:o(a?"analyzingMarketData":"predictButton")})]})})]})]})}var M=a(81568);function V(){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(o.Zb,{className:"border-[#2a2d3a] bg-gradient-to-br from-[#5B7FFF]/10 to-[#1a1d29]",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(M.O,{className:"h-4 w-32 bg-[#2a2d3a]"})}),(0,s.jsxs)(o.aY,{children:[(0,s.jsx)(M.O,{className:"h-16 w-48 mb-4 bg-[#2a2d3a]"}),(0,s.jsx)(M.O,{className:"h-4 w-64 bg-[#2a2d3a]"})]})]}),(0,s.jsx)(o.Zb,{className:"border-[#2a2d3a] bg-[#1a1d29]",children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(M.O,{className:"h-8 w-8 rounded-full bg-[#2a2d3a]"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(M.O,{className:"h-6 w-32 bg-[#2a2d3a]"}),(0,s.jsx)(M.O,{className:"h-4 w-48 bg-[#2a2d3a]"})]})]})})}),(0,s.jsxs)(o.Zb,{className:"border-[#2a2d3a] bg-[#1a1d29]",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.O,{className:"h-6 w-40 bg-[#2a2d3a]"}),(0,s.jsx)(M.O,{className:"h-6 w-24 bg-[#2a2d3a]"})]})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsx)(M.O,{className:"h-8 w-full bg-[#2a2d3a]"}),(0,s.jsx)(M.O,{className:"h-4 w-full bg-[#2a2d3a]"})]})]}),(0,s.jsxs)(o.Zb,{className:"border-[#2a2d3a] bg-[#1a1d29]",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(M.O,{className:"h-6 w-40 bg-[#2a2d3a]"})}),(0,s.jsxs)(o.aY,{className:"space-y-3",children:[(0,s.jsx)(M.O,{className:"h-4 w-64 bg-[#2a2d3a]"}),[1,2,3].map(e=>(0,s.jsx)(M.O,{className:"h-16 w-full bg-[#2a2d3a]"},e))]})]}),(0,s.jsxs)(o.Zb,{className:"border-[#2a2d3a] bg-[#1a1d29]",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(M.O,{className:"h-6 w-48 bg-[#2a2d3a]"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,s.jsx)(M.O,{className:"h-12 w-full bg-[#2a2d3a]"},e))})})]})]})}let F=["Scanning Local Market Data...","Analyzing Depreciation Trends...","Comparing 55,000+ Listings...","Calculating Final Value..."];function R(){let[e,t]=(0,r.useState)(0),[a,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%F.length)},3e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{let e=Date.now(),t=setInterval(()=>{let a=Math.min((Date.now()-e)/1e3/10*100,100);i(a),a>=100&&clearInterval(t)},50);return()=>clearInterval(t)},[]),(0,s.jsx)(o.Zb,{className:"glassCard border border-white/10 overflow-hidden",children:(0,s.jsx)(o.aY,{className:"p-8 sm:p-10",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"text-center space-y-2",children:(0,s.jsxs)(E.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,s.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:"System Analysis"}),(0,s.jsx)("p",{className:"text-sm text-[#94a3b8]",children:"Processing your prediction..."})]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"relative h-3 rounded-full bg-white/5 overflow-hidden",children:(0,s.jsx)(E.E.div,{className:"absolute inset-y-0 left-0 rounded-full",initial:{width:0},animate:{width:"".concat(a,"%")},transition:{duration:.1,ease:"linear"},style:{background:"linear-gradient(90deg, #8b5cf6 0%, #6366f1 50%, #3b82f6 100%)",boxShadow:"0 0 20px rgba(139, 92, 246, 0.5)"},children:(0,s.jsx)(E.E.div,{className:"absolute inset-0",animate:{background:["linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)","linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"],backgroundPosition:["-200% 0","200% 0"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs text-[#94a3b8]",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{className:"font-semibold text-white",children:[Math.round(a),"%"]})]})]}),(0,s.jsx)("div",{className:"min-h-[60px] flex items-center justify-center",children:(0,s.jsx)(C.M,{mode:"wait",children:(0,s.jsx)(E.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5},className:"text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(E.E.div,{className:"w-2 h-2 rounded-full bg-gradient-to-r from-purple-500 to-blue-500",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)("p",{className:"text-base sm:text-lg font-medium text-white",children:F[e]})]})},e)})}),(0,s.jsx)("div",{className:"pt-4 border-t border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-6 text-xs text-[#94a3b8]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),(0,s.jsx)("span",{children:"AI Model Active"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse"}),(0,s.jsx)("span",{children:"Database Connected"})]})]})})]})})})}var L=a(29691),D=a(8759),A=a(49036),B=a(83523),q=a(11981),Y=a(20173),H=a(85790),W=a(35817);function Q(){let e=(0,n.useTranslations)("smartTips");return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)(E.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsxs)(o.ll,{className:"flex items-center gap-2 text-white mb-6 text-xl",children:[(0,s.jsx)(E.E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:(0,s.jsx)(D.Z,{className:"h-5 w-5 text-yellow-400"})}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:e("title")})]})}),(0,s.jsxs)(o.aY,{className:"space-y-3 p-0",children:[(0,s.jsx)(E.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:(0,s.jsxs)(L.zF,{children:[(0,s.jsxs)(L.wy,{className:"flex items-center justify-between w-full p-4 bg-black/30 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-black/40 hover:border-white/30 transition-all duration-300 group",children:[(0,s.jsxs)("span",{className:"flex items-center gap-3 text-sm font-medium text-white",children:[(0,s.jsx)(E.E.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:(0,s.jsx)(A.Z,{className:"h-5 w-5 text-blue-400"})}),e("buyingTip.title")]}),(0,s.jsx)(E.E.div,{whileHover:{rotate:180},transition:{duration:.3},children:(0,s.jsx)(B.Z,{className:"h-4 w-4 text-white/60 group-hover:text-white transition-colors"})})]}),(0,s.jsx)(L.Fw,{children:(0,s.jsxs)(E.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg mt-2 space-y-3",children:[(0,s.jsx)("p",{className:"font-bold text-sm text-white leading-relaxed",children:e("buyingTip.content")}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-xs font-semibold text-blue-300 flex items-center gap-2",children:[(0,s.jsx)(q.Z,{className:"h-3 w-3"}),e("buyingTip.why")]}),(0,s.jsx)("p",{className:"text-xs text-white/80",children:e("buyingTip.reason")}),(0,s.jsx)("ul",{className:"list-none space-y-2 text-xs text-white/70",children:["point1","point2","point3","point4"].map((t,a)=>(0,s.jsxs)(E.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"flex items-start gap-2",children:[(0,s.jsx)(Y.Z,{className:"h-3 w-3 text-green-400 mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{children:e("buyingTip.".concat(t))})]},t))}),(0,s.jsx)("p",{className:"text-xs mt-3 text-yellow-300 font-medium",children:e("buyingTip.cost")})]})]})})]})}),(0,s.jsx)(E.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:(0,s.jsxs)(L.zF,{children:[(0,s.jsxs)(L.wy,{className:"flex items-center justify-between w-full p-4 bg-black/30 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-black/40 hover:border-white/30 transition-all duration-300 group",children:[(0,s.jsxs)("span",{className:"flex items-center gap-3 text-sm font-medium text-white",children:[(0,s.jsx)(E.E.div,{whileHover:{scale:1.1,rotate:-5},transition:{type:"spring",stiffness:400},children:(0,s.jsx)(H.Z,{className:"h-5 w-5 text-green-400"})}),e("marketInsights.title")]}),(0,s.jsx)(E.E.div,{whileHover:{rotate:180},transition:{duration:.3},children:(0,s.jsx)(B.Z,{className:"h-4 w-4 text-white/60 group-hover:text-white transition-colors"})})]}),(0,s.jsx)(L.Fw,{children:(0,s.jsxs)(E.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg mt-2 space-y-2",children:[(0,s.jsx)("p",{className:"text-xs text-white/80",children:e("marketInsights.content")}),(0,s.jsx)("p",{className:"text-xs text-white/70 mt-2",children:e("marketInsights.tip")})]})})]})}),(0,s.jsx)(E.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:(0,s.jsxs)(L.zF,{children:[(0,s.jsxs)(L.wy,{className:"flex items-center justify-between w-full p-4 bg-black/30 backdrop-blur-sm border border-white/20 rounded-lg hover:bg-black/40 hover:border-white/30 transition-all duration-300 group",children:[(0,s.jsxs)("span",{className:"flex items-center gap-3 text-sm font-medium text-white",children:[(0,s.jsx)(E.E.div,{whileHover:{scale:1.1,y:-2},transition:{type:"spring",stiffness:400},children:(0,s.jsx)(W.Z,{className:"h-5 w-5 text-purple-400"})}),e("export.title")]}),(0,s.jsx)(E.E.div,{whileHover:{rotate:180},transition:{duration:.3},children:(0,s.jsx)(B.Z,{className:"h-4 w-4 text-white/60 group-hover:text-white transition-colors"})})]}),(0,s.jsx)(L.Fw,{children:(0,s.jsx)(E.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg mt-2",children:(0,s.jsx)("p",{className:"text-xs text-white/80",children:e("export.content")})})})]})})]})]})}var U=a(29251),J=a(38438),X=a(69145),G=a(54829),$=a(16691),K=a.n($);let ee={"toyota|camry|xle|2025":"/images/cars/toyota-camry-2025.jpg","toyota|camry|xse|2025":"/images/cars/toyota-camry-2025.jpg","toyota|camry|le|2025":"/images/cars/toyota-camry-2025.jpg","toyota|camry|se|2025":"/images/cars/toyota-camry-2025.jpg","toyota|camry|2025":"/images/cars/toyota-camry-2025.jpg","toyota|camry|2024":"/images/cars/toyota-camry-2025.jpg","toyota|camry|2023":"/images/cars/toyota-camry-2025.jpg","toyota|camry":"/images/cars/toyota-camry.jpg","toyota|corolla|2025":"/images/cars/toyota-corolla.jpg","toyota|corolla|2024":"/images/cars/toyota-corolla.jpg","toyota|corolla":"/images/cars/toyota-corolla.jpg","toyota|avalon|limited|2025":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|limited|2024":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|limited|2023":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|limited|2022":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|limited|2021":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|limited":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|xle|2025":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|xle|2024":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|xle":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|2025":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|2024":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|2023":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|2022":"/images/cars/toyota-camry-2025.jpg","toyota|avalon|2021":"/images/cars/toyota-camry-2025.jpg","toyota|avalon":"/images/cars/toyota-camry-2025.jpg","toyota|rav4":"/images/cars/toyota-camry.jpg","toyota|highlander":"/images/cars/toyota-camry.jpg","toyota|prius":"/images/cars/toyota-corolla.jpg","toyota|tacoma":"/images/cars/toyota-camry.jpg","toyota|tundra":"/images/cars/toyota-camry.jpg","toyota|4runner":"/images/cars/toyota-camry.jpg","toyota|sienna":"/images/cars/toyota-camry.jpg",toyota:"/images/cars/toyota-camry.jpg","honda|accord|2025":"/images/cars/honda-accord.jpg","honda|accord|2024":"/images/cars/honda-accord.jpg","honda|accord":"/images/cars/honda-accord.jpg","honda|civic|2025":"/images/cars/honda-civic.jpg","honda|civic":"/images/cars/honda-civic.jpg","honda|cr-v":"/images/cars/honda-accord.jpg",honda:"/images/cars/honda-civic.jpg","hyundai|sonata|2025":"/images/cars/hyundai-sonata.jpg","hyundai|sonata|2024":"/images/cars/hyundai-sonata.jpg","hyundai|sonata":"/images/cars/hyundai-sonata.jpg","hyundai|elantra|2025":"/images/cars/hyundai-elantra.jpg","hyundai|elantra":"/images/cars/hyundai-elantra.jpg","hyundai|tucson":"/images/cars/hyundai-sonata.jpg",hyundai:"/images/cars/hyundai-sonata.jpg","bmw|3-series|2025":"/images/cars/bmw-3-series.jpg","bmw|3-series|2024":"/images/cars/bmw-3-series.jpg","bmw|3-series":"/images/cars/bmw-3-series.jpg","bmw|3 series|2025":"/images/cars/bmw-3-series.jpg","bmw|3 series|2024":"/images/cars/bmw-3-series.jpg","bmw|3 series":"/images/cars/bmw-3-series.jpg","bmw|5-series":"/images/cars/bmw-3-series.jpg","bmw|5 series":"/images/cars/bmw-3-series.jpg","bmw|x3":"/images/cars/bmw-3-series.jpg",bmw:"/images/cars/bmw-3-series.jpg","mercedes-benz|c-class":"/images/cars/bmw-3-series.jpg","mercedes-benz|e-class":"/images/cars/bmw-3-series.jpg","mercedes-benz":"/images/cars/bmw-3-series.jpg","ford|f-150":"/images/cars/default-car.jpg","ford|mustang":"/images/cars/default-car.jpg","ford|explorer":"/images/cars/default-car.jpg",ford:"/images/cars/default-car.jpg","chevrolet|silverado":"/images/cars/default-car.jpg","chevrolet|equinox":"/images/cars/default-car.jpg",chevrolet:"/images/cars/default-car.jpg","nissan|altima":"/images/cars/default-car.jpg","nissan|sentra":"/images/cars/default-car.jpg","nissan|rogue":"/images/cars/default-car.jpg",nissan:"/images/cars/default-car.jpg","audi|a4":"/images/cars/bmw-3-series.jpg","audi|a6":"/images/cars/bmw-3-series.jpg",audi:"/images/cars/bmw-3-series.jpg","lexus|es":"/images/cars/toyota-camry.jpg","lexus|rx":"/images/cars/toyota-camry.jpg",lexus:"/images/cars/toyota-camry.jpg"};function et(e){return e?e.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}let ea=new Map;var es=a(31478),er=a(42375);async function ei(e,t){let{removeCarBackground:s}=await a.e(1239).then(a.bind(a,61239));return s(e,t)}var el=a(34812),en=a(35498);let eo=l()(()=>a.e(631).then(a.bind(a,40631)).then(e=>({default:e.PredictionResult})),{loadableGenerated:{webpack:()=>[40631]},loading:()=>(0,s.jsx)(V,{}),ssr:!1});function ec(e){let{imagePreviews:t,carFeatures:a,carImagePath:i,previewImage:l,imageMatchType:n,imageMatchInfo:o}=e,c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18e5,t=(0,r.useRef)(new Map),a=(0,r.useRef)(new Set),s=(0,r.useCallback)(e=>e,[]),i=(0,r.useCallback)(a=>{if(!a)return null;let r=s(a),i=t.current.get(r);return i?Date.now()-i.timestamp>e?(t.current.delete(r),null):i.url:null},[s,e]),l=(0,r.useCallback)((e,a)=>{if(!e||!a)return;let r=s(e);t.current.set(r,{url:a,timestamp:Date.now(),loaded:!0})},[s]);return{getCachedUrl:i,setCachedUrl:l,isImageLoading:(0,r.useCallback)(e=>a.current.has(e),[]),setImageLoading:(0,r.useCallback)((e,t)=>{t?a.current.add(e):a.current.delete(e)},[]),clearCache:(0,r.useCallback)(e=>{if(e){let r=s(e);t.current.delete(r),a.current.delete(e)}else t.current.clear(),a.current.clear()},[s])}}(),d=(0,r.useMemo)(()=>{if(t.length>0&&t[0])return t[0];if(l&&l.trim())return l.trim();if(i){let e=c.getCachedUrl(i);if(e)return e;let t="".concat("http://localhost:8000","/api/car-images/").concat(i);return c.setCachedUrl(i,t),t}let e=function(e){let{make:t,model:a,year:s,trim:r}=e;if(!t||""===t.trim())return"/images/cars/default-car.jpg";let i="".concat(t.toLowerCase(),"|").concat((a||"").toLowerCase(),"|").concat(s||"","|").concat((r||"").toLowerCase());if(ea.has(i))return ea.get(i);let l=et(t),n=et(a||""),o=et(r||"").replace(/__none__/g,""),c=null;if(s&&n&&o&&""!==o){let e="".concat(l,"|").concat(n,"|").concat(o,"|").concat(s);ee[e]&&(c=ee[e])}if(!c&&s&&n){let e="".concat(l,"|").concat(n,"|").concat(s);ee[e]&&(c=ee[e])}if(!c&&n){let e="".concat(l,"|").concat(n);if(ee[e])c=ee[e];else{let e=n.replace(/\s+/g,"-"),t="".concat(l,"|").concat(e);ee[t]&&(c=ee[t])}}!c&&l&&ee[l]&&(c=ee[l]);let d=c||"/images/cars/default-car.jpg";return ea.set(i,d),d}({make:a.make||"",model:a.model||"",year:a.year,trim:a.trim}),s=e||"/images/cars/default-car.jpg";if(s.endsWith(".svg")&&(s=s.replace(/\.svg$/,".jpg"))===e&&(s="/images/cars/default-car.jpg"),s.startsWith("/images/")){let e=c.getCachedUrl(s);if(e)return e;c.setCachedUrl(s,s)}return s},[t,a.make,a.model,a.year,a.trim,i,l,c]),[m,u]=(0,r.useState)(d||"/images/cars/default-car.jpg"),[h,x]=(0,r.useState)(null),[g,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[y,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),N=(0,r.useRef)(!1);if((0,r.useEffect)(()=>{let e=d||"/images/cars/default-car.jpg";e!==m&&(u(e),x(null),j(!1),w(!1))},[d,m]),(0,r.useEffect)(()=>{if(!(!m||"/images/cars/default-car.jpg"===m||h&&h.startsWith("blob:")))return N.current=!1,p(!0),b("Starting background removal..."),(async()=>{try{let e=new Promise((e,t)=>{setTimeout(()=>{t(Error("Background removal timeout (20s)"))},2e4)}),t=ei(m,(e,t,a)=>{N.current||b("Processing: ".concat(Math.round(t/a*100),"%"))}),a=await Promise.race([t,e]);if(N.current)return;a&&x(a)}catch(e){console.warn("[CarPreview] Background removal failed, using original:",e)}finally{N.current||(p(!1),b(""))}})(),()=>{N.current=!0,p(!1)}},[m]),y)return(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-white/5 text-white/70",children:(0,s.jsx)(U.Z,{className:"h-12 w-12 text-white/60"})});let k=h||m,[_,S]=(0,r.useState)({x:0,y:0}),C=(0,r.useRef)(null);return(0,s.jsxs)("div",{ref:C,className:"relative w-full h-full rounded-xl overflow-hidden",style:{minHeight:"300px",perspective:"1200px"},onMouseMove:e=>{if(!C.current)return;let t=C.current.getBoundingClientRect(),a=e.clientX-t.left,s=e.clientY-t.top,r=t.width/2,i=t.height/2;S({x:(i-s)/i*5,y:(a-r)/r*8})},onMouseLeave:()=>{S({x:0,y:0})},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900"}),(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse 80% 60% at 50% 30%, rgba(100, 150, 255, 0.08) 0%, transparent 60%)"}}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1/3",style:{background:"linear-gradient(to top, rgba(100, 100, 120, 0.2) 0%, transparent 100%)"}}),g&&(0,s.jsx)("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-slate-900/80 rounded-xl",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 border-4 border-purple-500/30 rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-purple-500 rounded-full animate-spin"}),(0,s.jsx)(U.Z,{className:"absolute inset-0 m-auto w-10 h-10 text-purple-400"})]}),(0,s.jsx)("p",{className:"text-white text-base font-semibold",children:"Removing Background..."}),(0,s.jsx)("p",{className:"text-purple-300 text-sm mt-2",children:f||"Processing..."}),(0,s.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"This takes about 10-20 seconds"})]})}),k&&(0,s.jsx)(E.E.div,{initial:{opacity:0,scale:.9,rotateX:0,rotateY:0},animate:{opacity:v?1:0,scale:v?1:.9,rotateX:_.x,rotateY:_.y},transition:{opacity:{duration:.6},scale:{duration:.6},rotateX:{duration:.3,ease:"easeOut"},rotateY:{duration:.3,ease:"easeOut"}},className:"absolute inset-0 flex items-center justify-center p-6",style:{transformStyle:"preserve-3d"},children:(0,s.jsxs)(E.E.div,{animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"relative w-full h-full",style:{transformStyle:"preserve-3d"},children:[(0,s.jsx)("div",{className:"absolute inset-0 -z-10",style:{background:"radial-gradient(ellipse 70% 60% at 50% 50%, rgba(100, 150, 255, 0.2) 0%, transparent 60%)",filter:"blur(30px)",transform:"translateZ(-50px)"}}),(0,s.jsx)("div",{className:"relative w-full h-full",style:{transform:"translateZ(30px)"},children:y?(0,s.jsx)(K(),{src:"/images/cars/default-car.jpg",alt:"Default car",fill:!0,className:"object-contain",priority:!1,quality:85}):(0,s.jsx)(K(),{src:k,alt:"".concat(a.year," ").concat(a.make," ").concat(a.model),fill:!0,className:"object-contain",loading:"eager",onLoad:()=>{w(!0),j(!1)},onError:()=>{console.error("[CarPreviewImage] Image load error, falling back to default"),j(!0),w(!1)},priority:!0,quality:95,unoptimized:k.startsWith("blob:")||k.startsWith("data:"),style:{objectPosition:"center",filter:"drop-shadow(0 30px 60px rgba(0, 0, 0, 0.6)) drop-shadow(0 10px 20px rgba(0, 0, 0, 0.4))"}},k)}),v&&(0,s.jsx)(E.E.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-2/3 h-6 rounded-full",style:{background:"radial-gradient(ellipse, rgba(0, 0, 0, 0.5) 0%, transparent 70%)",filter:"blur(20px)",transform:"translateZ(-60px) rotateX(90deg)"},animate:{scale:[1,1.05,1],opacity:[.5,.4,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})}),!k&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(U.Z,{className:"w-16 h-16 text-slate-600 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm",children:"Select a car to preview"})]})}),n&&"exact"!==n&&o&&(0,s.jsx)(E.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-3 left-3 right-3 bg-amber-500/90 rounded-lg px-3 py-2 z-[30]",children:(0,s.jsx)("p",{className:"text-xs text-white font-medium text-center",children:o})}),h&&!g&&(0,s.jsx)(E.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"absolute top-3 right-3 bg-green-500/90 rounded-full px-3 py-1 z-[30]",children:(0,s.jsxs)("p",{className:"text-xs text-white font-medium flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full"}),"Background Removed"]})})]})}function ed(){let[e,t]=(0,r.useState)(!1),[a,i]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),{loading:d,setLoading:m}=(0,el.usePredictLoading)(),[u,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(void 0),b=(0,r.useRef)(null),[j,w]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[_,S]=(0,r.useState)(0),[z,Z]=(0,r.useState)(null);(0,r.useRef)(null);let I=(0,n.useTranslations)("predict"),O=(0,n.useTranslations)("common"),T=(0,v.useToast)()||{toast:()=>{}};(0,r.useEffect)(()=>{t(!0)},[]),(0,r.useEffect)(()=>{if(window.sessionStorage)try{let e=sessionStorage.getItem("prefillCar");if(e)try{let t=JSON.parse(e);t&&"object"==typeof t&&t.make&&t.model&&t.year&&(h(t),sessionStorage.removeItem("prefillCar"),(null==T?void 0:T.toast)&&T.toast({title:(null==O?void 0:O("success"))||"Success",description:"Car details loaded: ".concat(t.make," ").concat(t.model," (").concat(t.year,")")}))}catch(e){console.error("Failed to parse prefill data:",e),sessionStorage.removeItem("prefillCar")}}catch(e){console.error("SessionStorage access error:",e)}},[]),(0,r.useEffect)(()=>{x&&(x.make||x.model)||!(j.length>0)&&!(N.length>0)||(w([]),k([]),Z(null),S(0))},[x,j.length,N.length]);let M=async e=>{var t,a,s,r,l;if(!e){(null==T?void 0:T.toast)&&T.toast({title:(null==O?void 0:O("error"))||"Error",description:"Invalid car features provided",variant:"destructive"});return}let n=["Gasoline","Diesel","Electric","Hybrid","Plug-in Hybrid","Other"];if(!e.fuel_type||!n.includes(e.fuel_type)){(null==T?void 0:T.toast)&&T.toast({title:(null==O?void 0:O("error"))||"Error",description:"Invalid fuel type: ".concat(e.fuel_type||"undefined",". Must be one of: ").concat(n.join(", ")),variant:"destructive"});return}m(!0),i(null),c(e),g(e),f(void 0),await new Promise(e=>setTimeout(e,0));try{let a;if(j.length>0)try{let e=await y.apiClient.analyzeImages(j);e.success&&(null===(t=e.data)||void 0===t?void 0:t.image_features)&&(a=e.data.image_features,Z(e.data))}catch(e){console.error("Image analysis failed:",e),(null==T?void 0:T.toast)&&T.toast({title:"Image analysis failed",description:"Continuing with prediction without image features",variant:"default"})}let s=await y.apiClient.predictPrice(e,a);if(!s||"object"!=typeof s||"number"!=typeof s.predicted_price)throw Error("Invalid response from server");if(i(s),en.activityHelpers.logPrediction({make:e.make,model:e.model,year:e.year,predictedPrice:s.predicted_price}),e&&s&&"number"==typeof s.predicted_price&&s.predicted_price>0)try{let t=await y.apiClient.savePrediction({car_features:e,predicted_price:s.predicted_price,confidence_interval:s.confidence_interval,confidence_level:s.confidence_level,image_features:a});t&&t.prediction_id&&f(t.prediction_id)}catch(e){console.error("Failed to save prediction to database:",e)}else console.warn("Skipping prediction save: missing required data",{hasFeatures:!!e,hasResult:!!s,hasPrice:s&&"number"==typeof s.predicted_price});try{e&&s&&(0,X._)(e,s)}catch(e){console.error("Failed to save recent search:",e)}if(b&&b.current)try{setTimeout(()=>{try{(null==b?void 0:b.current)&&b.current.scrollIntoView({behavior:"smooth",block:"start"})}catch(e){console.error("Scroll error:",e)}},100)}catch(e){console.error("Error setting up scroll:",e)}s.message&&"string"==typeof s.message&&s.message.toLowerCase().includes("warning")&&(null==T?void 0:T.toast)&&T.toast({title:"Note",description:s.message,variant:"default"})}catch(t){let e="Failed to predict price";if(G.Z.isAxiosError(t)){let i=null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.detail;Array.isArray(i)?e=i.map(e=>{var t;let a=(null===(t=e.loc)||void 0===t?void 0:t.join("."))||"field",s=e.msg||"Invalid value";return"".concat(a,": ").concat(s)}).join(", "):"string"==typeof i?e=i:(null===(l=t.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)?e=t.response.data.message:t.message&&(e=t.message)}else t instanceof Error&&(e=t.message);(null==T?void 0:T.toast)&&T.toast({title:(null==O?void 0:O("error"))||"Error",description:e,variant:"destructive"})}finally{m(!1)}};return e?(0,s.jsxs)("main",{className:"relative min-h-screen overflow-hidden",children:[(0,s.jsxs)("div",{className:"fixed inset-0 z-0",children:[(0,s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 w-full h-full object-cover",style:{filter:"blur(4px)"},children:(0,s.jsx)("source",{src:"/assets/predict-background.mp4",type:"video/mp4"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/35"}),(0,s.jsx)("div",{className:"absolute inset-0 backdrop-blur-[2px]"})]}),(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-[1]",children:[(0,s.jsx)(E.E.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl",animate:d?{scale:[1,1.15,1],opacity:[.05,.09,.05]}:{},transition:{duration:3,repeat:d?1/0:0,ease:"easeInOut"}}),(0,s.jsx)(E.E.div,{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl",animate:d?{scale:[1,1.15,1],opacity:[.05,.09,.05]}:{},transition:{duration:3,repeat:d?1/0:0,ease:"easeInOut",delay:.5}})]}),(0,s.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10 overflow-visible",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,s.jsx)(E.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-5 order-1",children:(0,s.jsx)("div",{className:"sticky top-6 h-fit",children:(0,s.jsx)("div",{className:"backdrop-blur-xl bg-black/40 border border-white/30 rounded-2xl shadow-2xl p-6 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(0,0,0,0.5)] hover:border-white/40",children:(0,s.jsx)(P,{onSubmit:M,loading:d,prefillData:u,onFormChange:g})})})}),(0,s.jsxs)("div",{className:"lg:col-span-7 order-2 space-y-6",children:[(0,s.jsx)(C.M,{children:d&&(0,s.jsx)(E.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.35,ease:"easeOut"},className:"relative z-[10000] max-w-2xl mx-auto mt-32 sm:mt-40 md:mt-48",children:(0,s.jsx)(R,{})})}),a&&!d&&l?(0,s.jsx)(er.ErrorBoundary,{fallback:(0,s.jsx)(o.Zb,{className:"border border-red-500/50 bg-red-500/10",children:(0,s.jsx)(o.aY,{className:"p-6",children:(0,s.jsx)("p",{className:"text-sm text-red-400",children:"Failed to display prediction results. Please try again."})})}),children:(0,s.jsxs)(E.E.div,{ref:b,initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"space-y-6",id:"results-section",children:[(0,s.jsxs)(o.Zb,{className:"border border-white/10 bg-white/[0.03] backdrop-blur-xl",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsxs)(o.ll,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(J.Z,{className:"w-5 h-5"}),I("result.carPreview")]})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsx)(er.ErrorBoundary,{fallback:(0,s.jsxs)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden bg-white/5 border border-white/10 flex items-center justify-center",style:{position:"relative",backgroundImage:"url('/wall.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-end pr-4 pb-4",style:{backgroundImage:"url('/carwiseiq-logo.jpg')",backgroundSize:"contain",backgroundPosition:"bottom right",backgroundRepeat:"no-repeat",opacity:.12,zIndex:5}}),(0,s.jsx)(U.Z,{className:"h-12 w-12 text-white/60 relative z-10"})]}),children:(0,s.jsxs)("div",{className:"relative w-full aspect-video rounded-lg overflow-visible",style:{position:"relative",background:"radial-gradient(ellipse at center, rgba(15, 23, 42, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)",minHeight:"400px"},children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-end pr-4 pb-4 pointer-events-none",style:{backgroundImage:"url('/carwiseiq-logo.jpg')",backgroundSize:"contain",backgroundPosition:"bottom right",backgroundRepeat:"no-repeat",opacity:.08,zIndex:1}}),(0,s.jsx)("div",{className:"relative z-10 w-full h-full",style:{minHeight:"400px"},children:(0,s.jsx)(ec,{imagePreviews:N,carFeatures:l,carImagePath:null==a?void 0:a.car_image_path,previewImage:null==a?void 0:a.preview_image,imageMatchType:null==a?void 0:a.image_match_type,imageMatchInfo:null==a?void 0:a.image_match_info})})]})}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white",children:[l.year," ",l.make," ",l.model,l.trim&&"__none__"!==l.trim&&" ".concat(l.trim)]}),(0,s.jsx)(es.C,{variant:"secondary",className:"text-xs",children:I("result.basedOnDetails")})]})]})]}),(0,s.jsx)(eo,{result:a,carFeatures:l,onUpdate:e=>{if(e&&"object"==typeof e&&l&&"object"==typeof l)try{let t={...l,...e};c(t),g(t)}catch(e){console.error("Failed to update car features:",e)}},predictionId:p}),j.length>1&&N.length>1&&(0,s.jsxs)(o.Zb,{className:"border border-white/10 bg-white/[0.03] backdrop-blur-xl",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsxs)(o.ll,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(J.Z,{className:"w-5 h-5"}),"Your Car Photos"]})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"relative w-full h-64 md:h-80 rounded-lg overflow-hidden bg-white/5",children:(0,s.jsx)(K(),{src:N[_],alt:"Car photo ".concat(_+1),fill:!0,className:"object-contain",loading:"lazy"})}),N.length>1&&(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:N.map((e,t)=>(0,s.jsx)("div",{className:"relative aspect-square rounded overflow-hidden cursor-pointer border-2 transition-all ".concat(t===_?"border-white/60 ring-2 ring-white/40":"border-white/20 hover:border-white/40"),onClick:()=>S(t),children:(0,s.jsx)(K(),{src:e,alt:"Thumbnail ".concat(t+1),fill:!0,className:"object-cover",loading:"lazy"})},t))}),z&&z.bullets&&z.bullets.length>0&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10",children:[(0,s.jsx)("p",{className:"text-sm text-white/80 mb-2",children:"AI Image Analysis:"}),(0,s.jsx)("ul",{className:"space-y-1",children:z.bullets.map((e,t)=>(0,s.jsxs)("li",{className:"text-sm text-white/60 flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-white/40",children:""}),(0,s.jsx)("span",{children:e})]},t))})]})]})]})]})}):(0,s.jsx)(E.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:(0,s.jsx)(er.ErrorBoundary,{fallback:null,children:(0,s.jsx)("div",{className:"backdrop-blur-xl bg-black/40 border border-white/30 rounded-2xl shadow-2xl transition-all duration-300 hover:shadow-[0_20px_50px_rgba(0,0,0,0.5)] hover:border-white/40",children:(0,s.jsx)(Q,{})})})})]})]})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"text-[#94a3b8]",children:"Loading..."})})}},42375:function(e,t,a){"use strict";a.r(t),a.d(t,{ErrorBoundary:function(){return u}});var s=a(57437),r=a(2265),i=a(85754),l=a(27815),n=a(11981),o=a(64280),c=a(77480),d=a(61396),m=a.n(d);class u extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){if(this.state.hasError){var e;return this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[#0f1117] p-4",children:(0,s.jsxs)(l.Zb,{className:"max-w-2xl w-full border-red-500/50 bg-[#1a1d29]",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"h-6 w-6 text-red-500"}),(0,s.jsx)(l.ll,{className:"text-red-400",children:"Something went wrong"})]}),(0,s.jsx)(l.SZ,{className:"text-[#94a3b8]",children:"An error occurred while rendering this component"})]}),(0,s.jsxs)(l.aY,{className:"space-y-4",children:[this.state.error&&(0,s.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-red-400 font-mono break-all",children:this.state.error.message||"Unknown error"}),!1]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.z,{onClick:this.handleReset,className:"bg-[#5B7FFF] hover:bg-[#4a6fe6]",children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Try again"]}),(0,s.jsx)(m(),{href:null!==(e=this.props.homeHref)&&void 0!==e?e:"/",children:(0,s.jsxs)(i.z,{variant:"outline",className:"border-[#2a2d3a]",children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Go home"]})})]})]})]})})}return this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}}},34812:function(e,t,a){"use strict";a.r(t),a.d(t,{PredictLoadingProvider:function(){return c},usePredictLoading:function(){return d}});var s=a(57437),r=a(2265),i=a(50116),l=a(62167),n=a(98777);let o=(0,r.createContext)(null);function c(e){let{children:t}=e,a=(0,i.useTranslations)("predict.loading"),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),h=(0,r.useRef)(null),x=(0,r.useRef)(null),g=(0,r.useCallback)(e=>{if(e)h.current=Date.now(),d(!0),u(!0),x.current&&(clearTimeout(x.current),x.current=null);else{let e=Math.max(0,600-(h.current?Date.now()-h.current:0));e>0?x.current=setTimeout(()=>{d(!1),u(!1),h.current=null},e):(d(!1),u(!1),h.current=null)}},[]);return(0,r.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]),(0,r.useEffect)(()=>{if(m)document.body.style.overflow="hidden";else{let e=setTimeout(()=>{document.body.style.overflow=""},400);return()=>clearTimeout(e)}return()=>{document.body.style.overflow=""}},[m]),(0,s.jsx)(o.Provider,{value:{loading:c,setLoading:g},children:(0,s.jsxs)("div",{className:"relative",children:[t,(0,s.jsx)(l.M,{mode:"wait",children:m&&(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"fixed inset-0 z-[9999] pointer-events-none",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[(0,s.jsx)("div",{className:"absolute inset-0 z-10 bg-gradient-to-b from-slate-950/95 via-slate-900/95 to-slate-950/95 backdrop-blur-sm",style:{width:"100%",height:"100%"}}),(0,s.jsx)("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-start pt-16 sm:pt-20 md:pt-24",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center px-4",children:[(0,s.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:a("predicting")}),(0,s.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-white/90 drop-shadow-md",children:a("analyzing")})]})})]},"loading-overlay")})]})})}function d(){let e=(0,r.useContext)(o);return null!=e?e:{loading:!1,setLoading:()=>{}}}},31478:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var s=a(57437),r=a(2265),i=a(1657);let l=r.forwardRef((e,t)=>{let{className:a,variant:r="default",...l}=e,n={default:"bg-[#5B7FFF] text-white",success:"bg-green-600 text-white",warning:"bg-yellow-600 text-white",destructive:"bg-red-600 text-white",secondary:"bg-[#2a2d3a] text-[#94a3b8]",outline:"border border-[#2a2d3a] text-white"};return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",n[r]||n.default,a),...l})});l.displayName="Badge"},29691:function(e,t,a){"use strict";a.d(t,{Fw:function(){return c},wy:function(){return o},zF:function(){return n}});var s=a(57437),r=a(2265),i=a(91927),l=a(1657);let n=i.fC,o=i.xz,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,l.cn)("overflow-hidden data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",a),...r})});c.displayName=i.VY.displayName},81568:function(e,t,a){"use strict";a.d(t,{O:function(){return i}});var s=a(57437),r=a(1657);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-[#2a2d3a]",t),...a})}},69145:function(e,t,a){"use strict";a.d(t,{DL:function(){return l},KM:function(){return r},SY:function(){return n},_:function(){return i}});let s="car_price_recent_searches";function r(){try{let e=localStorage.getItem(s);if(!e)return[];return JSON.parse(e).sort((e,t)=>t.timestamp-e.timestamp)}catch(e){return console.error("Error reading recent searches:",e),[]}}function i(e,t){try{let a=r(),i=[{id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),features:e,prediction:t},...a].slice(0,10);localStorage.setItem(s,JSON.stringify(i))}catch(e){console.error("Error saving recent search:",e)}}function l(e){try{let t=r().filter(t=>t.id!==e);localStorage.setItem(s,JSON.stringify(t))}catch(e){console.error("Error removing recent search:",e)}}function n(e){let t=Math.floor(Math.floor((Date.now()-e)/1e3)/60),a=Math.floor(t/60),s=Math.floor(a/24);return s>0?"".concat(s," day").concat(s>1?"s":""," ago"):a>0?"".concat(a," hour").concat(a>1?"s":""," ago"):t>0?"".concat(t," minute").concat(t>1?"s":""," ago"):"Just now"}},24930:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(21024);a(2265);let r=s._(a(84795));function i(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){let a=r.default,s={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let l=s.loader;return a({...s,loader:()=>null!=l?l().then(i):Promise.resolve(i(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16005:function(e,t,a){"use strict";function s(e){let{children:t}=e;return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return s}}),a(46491)},84795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=a(21024)._(a(2265)),r=a(16005),i=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function a(e){let a=t.loading,i=s.default.createElement(a,{isLoading:!0,pastDelay:!0,error:null}),l=t.ssr?s.default.Fragment:r.NoSSR,n=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:i},s.default.createElement(l,null,s.default.createElement(n,e)))}return t.lazy=s.default.lazy(t.loader),a.displayName="LoadableComponent",a}},91927:function(e,t,a){"use strict";a.d(t,{VY:function(){return E},fC:function(){return _},p_:function(){return g},xz:function(){return S}});var s=a(2265),r=a(85744),i=a(56989),l=a(73763),n=a(51030),o=a(42210),c=a(31033),d=a(85606),m=a(20966),u=a(57437),h="Collapsible",[x,g]=(0,i.b)(h),[p,f]=x(h),b=s.forwardRef((e,t)=>{let{__scopeCollapsible:a,open:r,defaultOpen:i,disabled:n,onOpenChange:o,...d}=e,[x,g]=(0,l.T)({prop:r,defaultProp:i??!1,onChange:o,caller:h});return(0,u.jsx)(p,{scope:a,disabled:n,contentId:(0,m.M)(),open:x,onOpenToggle:s.useCallback(()=>g(e=>!e),[g]),children:(0,u.jsx)(c.WV.div,{"data-state":k(x),"data-disabled":n?"":void 0,...d,ref:t})})});b.displayName=h;var y="CollapsibleTrigger",j=s.forwardRef((e,t)=>{let{__scopeCollapsible:a,...s}=e,i=f(y,a);return(0,u.jsx)(c.WV.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":k(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:t,onClick:(0,r.Mj)(e.onClick,i.onOpenToggle)})});j.displayName=y;var v="CollapsibleContent",w=s.forwardRef((e,t)=>{let{forceMount:a,...s}=e,r=f(v,e.__scopeCollapsible);return(0,u.jsx)(d.z,{present:a||r.open,children:({present:e})=>(0,u.jsx)(N,{...s,ref:t,present:e})})});w.displayName=v;var N=s.forwardRef((e,t)=>{let{__scopeCollapsible:a,present:r,children:i,...l}=e,d=f(v,a),[m,h]=s.useState(r),x=s.useRef(null),g=(0,o.e)(t,x),p=s.useRef(0),b=p.current,y=s.useRef(0),j=y.current,w=d.open||m,N=s.useRef(w),_=s.useRef(void 0);return s.useEffect(()=>{let e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,n.b)(()=>{let e=x.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,y.current=t.width,N.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationName=_.current.animationName),h(r)}},[d.open,r]),(0,u.jsx)(c.WV.div,{"data-state":k(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!w,...l,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:w&&i})});function k(e){return e?"open":"closed"}var _=b,S=j,E=w}},function(e){e.O(0,[7895,116,263,4829,6376,3226,7169,7633,1396,8777,555,9782,3802,8174,4049,3572,3775,1572,2971,4938,1744],function(){return e(e.s=3780)}),_N_E=e.O()}]);