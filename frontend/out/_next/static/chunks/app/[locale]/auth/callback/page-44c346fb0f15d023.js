(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7555,5922],{61224:function(e,t,n){Promise.resolve().then(n.bind(n,53022))},53022:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(57437),r=n(2265),s=n(24033),c=n(50116),i=n(45922),o=n(63572);function l(e){return e instanceof Error&&"AbortError"===e.name||"object"==typeof e&&null!==e&&"AbortError"===e.name}async function u(e){try{if(e){(0,o.o4)(e),localStorage.getItem("auth_token");try{await o.apiClient.getMe()}catch(e){console.warn("[AuthCallback] ⚠️ Could not verify with REST API:",e.message),console.warn("[AuthCallback] Supabase token saved, but REST API may not accept it"),console.warn("[AuthCallback] This is expected if backend uses different auth system")}}}catch(e){console.error("[AuthCallback] ❌ Error syncing token:",e)}}function f(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),n=(0,c.useLocale)()||"en",[o,f]=(0,r.useState)(null);return((0,r.useEffect)(()=>{var e;let a=null,r=null,s=(null==t?void 0:null===(e=t.get("returnUrl"))||void 0===e?void 0:e.trim())||"/".concat(n),c=async()=>{await new Promise(e=>setTimeout(e,500)),window.location.href=s};return(async()=>{try{let{data:{session:e}}=await i.supabase.auth.getSession();if(e){await u(e.access_token),await c();return}try{let{data:{subscription:e}}=i.supabase.auth.onAuthStateChange(async(e,t)=>{try{("SIGNED_IN"===e||"INITIAL_SESSION"===e)&&t&&(await u(t.access_token),null==a||a.unsubscribe(),await c())}catch(e){l(e)||f(e instanceof Error?e.message:"Auth state error")}});a=e}catch(e){l(e)?c():f(e instanceof Error?e.message:"Sign-in failed");return}r=setTimeout(async()=>{try{let{data:{session:e}}=await i.supabase.auth.getSession();e&&(await u(e.access_token),null==a||a.unsubscribe(),await c())}catch(e){l(e)?c():f(e instanceof Error?e.message:"Sign-in failed")}},1e3)}catch(e){l(e)?c():f(e instanceof Error?e.message:"Sign-in failed")}})().catch(e=>{l(e)||f(e instanceof Error?e.message:"Sign-in failed")}),()=>{null==a||a.unsubscribe(),r&&clearTimeout(r)}},[e,t,n]),o)?(0,a.jsx)("div",{className:"flex min-h-[calc(100vh-200px)] items-center justify-center p-6 bg-[#0f1117]",children:(0,a.jsxs)("div",{className:"text-center text-[#94a3b8]",children:[(0,a.jsx)("p",{className:"text-red-400 mb-4",children:o}),(0,a.jsx)("a",{href:"/".concat(n,"/login"),className:"text-[#5B7FFF] hover:underline",children:"Back to Login"})]})}):(0,a.jsx)("div",{className:"flex min-h-[calc(100vh-200px)] items-center justify-center p-6 bg-[#0f1117]",children:(0,a.jsx)("div",{className:"text-[#94a3b8]",children:"Completing sign in…"})})}},45922:function(e,t,n){"use strict";n.d(t,{supabase:function(){return a}});let a=(0,n(33226).eI)("https://fehkzrrahgyesxzrwlme.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZlaGt6cnJhaGd5ZXN4enJ3bG1lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxNzcwNjEsImV4cCI6MjA4NDc1MzA2MX0.AI8QaX8nOP8UwcfmgbGN2EN4jmK94i98Kpd3ZtPDZRQ",{auth:{lock:(e,t,n)=>n()}})},30622:function(e,t,n){"use strict";var a=n(2265),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var a,s={},l=null,u=null;for(a in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:l,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},57437:function(e,t,n){"use strict";e.exports=n(30622)}},function(e){e.O(0,[116,263,4829,3226,3572,2971,4938,1744],function(){return e(e.s=61224)}),_N_E=e.O()}]);