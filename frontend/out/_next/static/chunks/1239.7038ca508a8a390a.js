"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1239],{61239:function(e,t,r){r.d(t,{removeCarBackground:function(){return n}});var a=r(82302);async function o(e,t){return new Promise((r,a)=>{let o=new Image;o.onload=()=>{if(o.width<=t){r(e);return}let n=t/(o.width/o.height),i=document.createElement("canvas");i.width=t,i.height=n;let c=i.getContext("2d");if(!c){a(Error("Could not get canvas context"));return}c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.drawImage(o,0,0,t,n),i.toBlob(e=>{e?r(e):a(Error("Failed to resize image"))},"image/jpeg",.9)},o.onerror=a,o.src=URL.createObjectURL(e)})}async function n(e,t){if(!e)throw console.error("❌ No image URL provided!"),Error("No image URL");try{let r;if(t&&t("loading",1,5),e.startsWith("data:")){let t=await fetch(e);r=await t.blob()}else if(e.startsWith("blob:")){let t=await fetch(e);r=await t.blob()}else{let t=await fetch(e,{mode:"cors"});if(!t.ok)throw Error("Failed to fetch image: ".concat(t.status));r=await t.blob()}t&&t("preparing",2,5);let n=await o(r,600);t&&t("processing",3,5);let i=await (0,a.X)(n,{model:"isnet_quint8",output:{format:"image/png",quality:.9},progress:(e,r,a)=>{t&&t(e,3+r/a,5)}});return t&&t("finalizing",5,5),URL.createObjectURL(i)}catch(t){return console.error("❌ AI background removal failed:",t),e}}},82302:function(e,t,r){r.d(t,{X:function(){return a}});async function a(e,t){return new Promise((t,r)=>{let a=new Image;a.onload=()=>{let e=document.createElement("canvas");e.width=a.width,e.height=a.height;let o=e.getContext("2d");if(!o){r(Error("No canvas context"));return}o.drawImage(a,0,0),e.toBlob(e=>e?t(e):r(Error("toBlob failed")),"image/png",.9)},a.onerror=()=>r(Error("Image load failed")),a.src=URL.createObjectURL(e)})}}}]);