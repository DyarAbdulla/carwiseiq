(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2864],{61943:function(e,t,a){Promise.resolve().then(a.bind(a,67549))},67549:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(57437),s=a(2265),n=a(27815),l=a(45179),i=a(85754),d=a(63572),c=a(35817),o=a(99670),u=a(19160),x=a(42706);function f(){var e,t,a,f,h,m,g,p,b,v;let[j,y]=(0,s.useState)([]),[N,w]=(0,s.useState)(0),[k,_]=(0,s.useState)(1),[C]=(0,s.useState)(20),[S,R]=(0,s.useState)(!0),[F,D]=(0,s.useState)({rating:"",accuracy:"",make:"",search:"",date_from:"",date_to:""}),[z,A]=(0,s.useState)(null),[I,Z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{E()},[k,F]);let E=async()=>{R(!0);try{let e={page:k,page_size:C};if(""!==F.rating){let t=Number(F.rating);isNaN(t)||(e.rating=t)}F.accuracy&&(e.accuracy=F.accuracy),F.make&&(e.make=F.make),F.search&&(e.search=F.search),F.date_from&&(e.date_from=F.date_from),F.date_to&&(e.date_to=F.date_to);let t=await d.apiClient.getFeedbackList(e);y(t.items||[]),w(t.total||0)}catch(e){console.error("Error loading feedback:",e)}finally{R(!1)}},T=async e=>{try{let t=await d.apiClient.getFeedbackDetail(e);A(t),Z(!0)}catch(e){console.error("Error loading feedback detail:",e)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Feedback Management"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Manage and review user feedback"})]}),(0,r.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,r.jsx)(n.Ol,{children:(0,r.jsx)(n.ll,{className:"text-white",children:"Filters"})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,r.jsx)(l.I,{placeholder:"Search...",value:F.search,onChange:e=>D({...F,search:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),(0,r.jsxs)("select",{value:F.rating,onChange:e=>D({...F,rating:e.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,r.jsx)("option",{value:"",children:"All Ratings"}),(0,r.jsx)("option",{value:"1",children:"1 Star"}),(0,r.jsx)("option",{value:"2",children:"2 Stars"}),(0,r.jsx)("option",{value:"3",children:"3 Stars"}),(0,r.jsx)("option",{value:"4",children:"4 Stars"}),(0,r.jsx)("option",{value:"5",children:"5 Stars"})]}),(0,r.jsxs)("select",{value:F.accuracy,onChange:e=>D({...F,accuracy:e.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white",children:[(0,r.jsx)("option",{value:"",children:"All Accuracy"}),(0,r.jsx)("option",{value:"accurate",children:"Accurate"}),(0,r.jsx)("option",{value:"inaccurate",children:"Inaccurate"}),(0,r.jsx)("option",{value:"no_feedback",children:"No Feedback"})]}),(0,r.jsx)(l.I,{type:"date",placeholder:"Date From",value:F.date_from,onChange:e=>D({...F,date_from:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),(0,r.jsx)(l.I,{type:"date",placeholder:"Date To",value:F.date_to,onChange:e=>D({...F,date_to:e.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),(0,r.jsxs)(i.z,{onClick:()=>{alert("Export functionality coming soon")},className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})})]}),(0,r.jsxs)(n.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"text-white",children:["Feedback (",N," total)"]})}),(0,r.jsx)(n.aY,{children:S?(0,r.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(u.iA,{children:[(0,r.jsx)(u.xD,{children:(0,r.jsxs)(u.SC,{className:"border-gray-700",children:[(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Date"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"User"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Car"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Rating"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Accuracy"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Confidence"}),(0,r.jsx)(u.ss,{className:"text-gray-300",children:"Actions"})]})}),(0,r.jsx)(u.RM,{children:j.map(e=>{var t,a,s;return(0,r.jsxs)(u.SC,{className:"border-gray-700",children:[(0,r.jsx)(u.pj,{className:"text-gray-300",children:new Date(e.date).toLocaleDateString()}),(0,r.jsx)(u.pj,{className:"text-gray-300",children:e.user}),(0,r.jsxs)(u.pj,{className:"text-gray-300",children:[null===(t=e.car)||void 0===t?void 0:t.make," ",null===(a=e.car)||void 0===a?void 0:a.model," (",null===(s=e.car)||void 0===s?void 0:s.year,")"]}),(0,r.jsx)(u.pj,{className:"text-gray-300",children:e.rating?"★".repeat(e.rating)+"☆".repeat(5-e.rating):"-"}),(0,r.jsx)(u.pj,{children:null!==e.is_accurate?(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.is_accurate?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.is_accurate?"Accurate":"Inaccurate"}):(0,r.jsx)("span",{className:"text-gray-500",children:"No feedback"})}),(0,r.jsx)(u.pj,{className:"text-gray-300 capitalize",children:e.confidence_level||"-"}),(0,r.jsx)(u.pj,{children:(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>T(e.id),className:"text-blue-400 hover:text-blue-300",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})})]},e.id)})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",(k-1)*C+1," to ",Math.min(k*C,N)," of ",N]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>_(k-1),disabled:1===k,className:"border-gray-600 text-gray-300",children:"Previous"}),(0,r.jsx)(i.z,{variant:"outline",onClick:()=>_(k+1),disabled:k*C>=N,className:"border-gray-600 text-gray-300",children:"Next"})]})]})]})})]}),(0,r.jsx)(x.Vq,{open:I,onOpenChange:Z,children:(0,r.jsxs)(x.cZ,{className:"bg-gray-800 border-gray-700 max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)(x.fK,{children:(0,r.jsx)(x.$N,{className:"text-white",children:"Feedback Details"})}),z&&(0,r.jsxs)("div",{className:"space-y-4 text-white",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Prediction"}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Car:"})," ",null===(t=z.prediction)||void 0===t?void 0:null===(e=t.car_features)||void 0===e?void 0:e.make," ",null===(f=z.prediction)||void 0===f?void 0:null===(a=f.car_features)||void 0===a?void 0:a.model," (",null===(m=z.prediction)||void 0===m?void 0:null===(h=m.car_features)||void 0===h?void 0:h.year,")"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Predicted Price:"})," $",null===(p=z.prediction)||void 0===p?void 0:null===(g=p.predicted_price)||void 0===g?void 0:g.toLocaleString()]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Confidence:"})," ",null===(b=z.prediction)||void 0===b?void 0:b.confidence_level]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Feedback"}),(0,r.jsxs)("div",{className:"bg-gray-700 p-4 rounded space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Rating:"})," ",z.rating?"★".repeat(z.rating)+"☆".repeat(5-z.rating):"No rating"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Accuracy:"})," ",null!==z.is_accurate?z.is_accurate?"Accurate":"Inaccurate":"No feedback"]}),z.correct_price&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Correct Price:"})," $",z.correct_price.toLocaleString()]}),(null===(v=z.feedback_reasons)||void 0===v?void 0:v.length)>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Reasons:"}),(0,r.jsx)("ul",{className:"list-disc list-inside mt-1",children:z.feedback_reasons.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),z.other_details&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Details:"})," ",z.other_details]})]})]})]})]})})]})}},85754:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var r=a(57437),s=a(2265),n=a(67256),l=a(1657);let i=s.forwardRef((e,t)=>{let{className:a,variant:s="default",size:i="default",asChild:d=!1,...c}=e,o=d?n.g7:"button";return(0,r.jsx)(o,{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-[#5B7FFF] text-white hover:bg-[#4a6fff]",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-slate-300 dark:border-[#2a2d3a] bg-transparent hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",secondary:"bg-slate-100 dark:bg-[#2a2d3a] text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-[#3a3d4a]",ghost:"hover:bg-slate-100 dark:hover:bg-[#2a2d3a] text-slate-900 dark:text-white",link:"text-[#5B7FFF] underline-offset-4 hover:underline"}[s],{default:"h-10 sm:h-10 px-4 py-2 min-h-[48px] sm:min-h-[40px]",sm:"h-9 sm:h-9 rounded-md px-3 min-h-[48px] sm:min-h-[36px]",lg:"h-11 sm:h-11 rounded-md px-8 min-h-[48px] sm:min-h-[44px]",icon:"h-10 w-10 sm:h-10 sm:w-10 min-h-[48px] min-w-[48px] sm:min-h-[40px] sm:min-w-[40px]"}[i],a),ref:t,...c})});i.displayName="Button"},27815:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},ll:function(){return d}});var r=a(57437),s=a(2265),n=a(1657);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-slate-200 dark:border-[#2a2d3a] bg-white dark:bg-[#1a1d29] text-slate-900 dark:text-white shadow-sm",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight text-slate-900 dark:text-white",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-600 dark:text-[#94a3b8]",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},42706:function(e,t,a){"use strict";a.d(t,{$N:function(){return m},Be:function(){return g},Vq:function(){return d},cN:function(){return h},cZ:function(){return x},fK:function(){return f},hg:function(){return c}});var r=a(57437),s=a(2265),n=a(79515),l=a(82549),i=a(1657);let d=n.fC,c=n.xz,o=n.h_;n.x8;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-[1100] bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.aV.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-[1100] grid w-full max-w-lg max-h-[90vh] overflow-y-auto overscroll-contain translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 dark:border-[#2a2d3a] bg-white dark:bg-[#1a1d29] p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 text-slate-600 dark:text-[#94a3b8]"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900 dark:text-white",a),...s})});m.displayName=n.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-slate-600 dark:text-[#94a3b8]",a),...s})});g.displayName=n.dk.displayName},45179:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var r=a(57437),s=a(2265),n=a(1657);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex w-full rounded-lg border border-slate-200 dark:border-white/10 bg-white dark:bg-white/[0.03] backdrop-blur-sm px-4 py-3 min-h-[48px] text-base text-start text-slate-900 dark:text-white/90 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 dark:placeholder:text-white/40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/30 focus-visible:ring-offset-2 focus-visible:border-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 hover:border-indigo-500/50 dark:hover:border-indigo-500/50 hover:bg-slate-50 dark:hover:bg-white/[0.05] touch-manipulation",a),ref:t,...l})});l.displayName="Input"},19160:function(e,t,a){"use strict";a.d(t,{RM:function(){return d},SC:function(){return c},iA:function(){return l},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var r=a(57437),s=a(2265),n=a(1657);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});i.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b border-[#2a2d3a] transition-colors hover:bg-[#2a2d3a]/50 data-[state=selected]:bg-[#2a2d3a]",a),...s})});c.displayName="TableRow";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-[#94a3b8] [&:has([role=checkbox])]:pr-0",a),...s})});o.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell"},1657:function(e,t,a){"use strict";a.d(t,{cb:function(){return o},cn:function(){return n},gQ:function(){return c},uf:function(){return i},wo:function(){return u},xG:function(){return l}});var r=a(57042),s=a(74769);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function i(e){return new Intl.NumberFormat("en-US").format(e)}function d(e){return e<=0||!isFinite(e)?0:Math.round(235.214583/e*10)/10}function c(e,t){let a=d(e),r=d(t);return"".concat(a," / ").concat(r," L/100km")}function o(e){return null!=e&&"string"==typeof e&&/\.(mp4|mov|avi)(\?|$)/i.test(e)}function u(e,t){var a;if(null==e||"string"!=typeof e||!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;let r=(null!==(a=null!=t?t:"http://localhost:8000")&&void 0!==a?a:"").replace(/\/$/,"");return r?r+(e.startsWith("/")?e:"/"+e):e}}},function(e){e.O(0,[7895,263,4829,6376,7169,1184,3572,2971,4938,1744],function(){return e(e.s=61943)}),_N_E=e.O()}]);